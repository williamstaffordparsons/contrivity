<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Play Contrivity</title>
    <link href="favicon.ico" rel="icon" type="image/x-icon">
    <meta content="noindex" name="robots">
    <meta charset="utf-8">
    <style type="text/css">
      [recoil_heavy="0"] {
        margin-top: -4px;
      }
      [recoil_heavy="1"] {
        margin-top: 4px;
      }
      [recoil_heavy="2"] {
        margin-left: -5px;
      }
      [recoil_heavy="3"] {
        margin-left: 5px;
      }
      [recoil_light="0"] {
        margin-top: -3px;
      }
      [recoil_light="1"] {
        margin-top: 3px;
      }
      [recoil_light="2"] {
        margin-left: -2px;
      }
      [recoil_light="3"] {
        margin-left: 2px;
      }
      body,
      html {
        background-color: #f3f3f3;
        font-family: sans-serif;
        margin: 0;
        overflow: hidden;
      }
      p {
        margin: 0;
        position: absolute;
        z-index: 6;
      }
      .bits {
        z-index: 2;
      }
        .bits div {
          background-color: #540203;
          border-radius: 10px;
          height: 4px;
          position: absolute;
          transition: background-color 0.3s ease,
            margin 0.04s ease;
          width: 4px;
        }
        .bits-0 div:nth-child(1) {
          background-color: #292929;
          margin: 19px 0 0 9px;
        }
        .bits-0 div:nth-child(2) {
          background-color: #555;
          margin: 4px 0 0 2px;
          transform: rotate(154deg);
          width: 8px;
        }
        .bits-0 div:nth-child(3) {
          background-color: #540203;
          margin: -11px 0 0 23px;
        }
        .bits-0 div:nth-child(4) {
          background-color: #540203;
          margin: -11px 0 0 -29px;
          transform: rotate(175deg);
          width: 10px;
        }
        .bits-0 div:nth-child(5) {
          background-color: #3a3a3a;
          margin: -15px 0 0 -58px;
        }
        .bits-0 div:nth-child(6) {
          background-color: #3a3a3a;
          margin: 11px 0 0 -20px;
          transform: rotate(28deg);
          width: 6px;
        }
        .bits-1 div:nth-child(1) {
          background-color: #3a3a3a;
          margin: 1px 0 0 35px;
        }
        .bits-1 div:nth-child(2) {
          background-color: #3a3a3a;
          margin: 22px 0 0 39px;
          transform: rotate(113deg);
          width: 8px;
        }
        .bits-1 div:nth-child(3) {
          background-color: #540203;
          margin: 56px 0 0 12px;
        }
        .bits-1 div:nth-child(4) {
          background-color: #3a3a3a;
          margin: -17px 0 0 15px;
          transform: rotate(42deg);
          width: 10px;
        }
        .bits-1 div:nth-child(5) {
          background-color: #3a3a3a;
          margin: -16px 0 0 31px;
        }
        .bits-1 div:nth-child(6) {
          background-color: #555;
          margin: -8px 0 0 -3px;
          transform: rotate(113deg);
          width: 6px;
        }
        .bits-1 div:nth-child(7) {
          background-color: #292929;
          margin: 4px 0 0 2px;
          transform: rotate(154deg);
          width: 8px;
        }
        .bits-1 div:nth-child(8) {
          background-color: #540203;
          margin: -21px 0 0 23px;
        }
        .bits-1 div:nth-child(9) {
          background-color: #540203;
          margin: -11px 0 0 -29px;
          transform: rotate(175deg);
          width: 10px;
        }
        .bits-2 div:nth-child(1) {
          background-color: #540203;
          margin: 8px 0 0 -2px;
        }
        .bits-2 div:nth-child(2) {
          background-color: #292929;
          margin: 11px 0 0 10px;
          transform: rotate(172deg);
          width: 8px;
        }
        .bits-2 div:nth-child(3) {
          background-color: #540203;
          margin: 10px 0 0 -2px;
        }
        .bits-2 div:nth-child(4) {
          background-color: #292929;
          margin: 1px 0 0 21px;
          transform: rotate(93deg);
          width: 10px;
        }
        .bits-2 div:nth-child(5) {
          background-color: #3a3a3a;
          margin: 4px 0 0 20px;
        }
        .bits-2 div:nth-child(6) {
          background-color: #292929;
          margin: 16px 0 0 14px;
          transform: rotate(158deg);
          width: 6px;
        }
        .bits-2 div:nth-child(7) {
          background-color: #3a3a3a;
          margin: 42px 0 0 19px;
          transform: rotate(113deg);
          width: 8px;
        }
        .bits-2 div:nth-child(8) {
          background-color: #555;
          margin: 26px 0 0 12px;
        }
        .bits-2 div:nth-child(9) {
          background-color: #3a3a3a;
          margin: -17px 0 0 15px;
          transform: rotate(42deg);
          width: 10px;
        }
        .bits-3 div:nth-child(1) {
          background-color: #292929;
          margin: -6px 0 0 16px;
        }
        .bits-3 div:nth-child(2) {
          background-color: #292929;
          margin: 18px 0 0 19px;
          transform: rotate(112deg);
          width: 8px;
        }
        .bits-3 div:nth-child(3) {
          background-color: #292929;
          margin: -25px 0 0 -24px;
        }
        .bits-3 div:nth-child(4) {
          background-color: #555;
          margin: -55px 0 0 22px;
          transform: rotate(77deg);
          width: 10px;
        }
        .bits-3 div:nth-child(5) {
          background-color: #540203;
          margin: -21px 0 0 8px;
        }
        .bits-3 div:nth-child(6) {
          background-color: #292929;
          margin: -16px 0 0 -17px;
          transform: rotate(155deg);
          width: 6px;
        }
        .bits-3 div:nth-child(7) {
          background-color: #292929;
          margin: 11px 0 0 10px;
          transform: rotate(172deg);
          width: 8px;
        }
        .bits-3 div:nth-child(8) {
          background-color: #540203;
          margin: 10px 0 0 -2px;
        }
        .bits-3 div:nth-child(9) {
          background-color: #292929;
          margin: 1px 0 0 21px;
          transform: rotate(93deg);
          width: 10px;
        }
        .bits-4 div:nth-child(1) {
          background-color: #292929;
          margin: -15px 0 0 10px;
        }
        .bits-4 div:nth-child(2) {
          background-color: #555;
          margin: 23px 0 0 23px;
          transform: rotate(64deg);
          width: 8px;
        }
        .bits-4 div:nth-child(3) {
          background-color: #292929;
          margin: 7px 0 0 24px;
        }
        .bits-4 div:nth-child(4) {
          background-color: #3a3a3a;
          margin: -28px 0 0 22px;
          transform: rotate(102deg);
          width: 10px;
        }
        .bits-4 div:nth-child(5) {
          background-color: #540203;
          margin: 16px 0 0 9px;
        }
        .bits-4 div:nth-child(6) {
          background-color: #540203;
          margin: -8px 0 0 19px;
          transform: rotate(132deg);
          width: 6px;
        }
        .bits-4 div:nth-child(7) {
          background-color: #292929;
          margin: -6px 0 0 16px;
        }
        .bits-4 div:nth-child(8) {
          background-color: #292929;
          margin: 58px 0 0 29px;
          transform: rotate(112deg);
          width: 8px;
        }
        .bits-4 div:nth-child(9) {
          background-color: #292929;
          margin: -45px 0 0 -24px;
        }
        .bits-5 div:nth-child(1) {
          background-color: #3a3a3a;
          margin: -9px 0 0 27px;
        }
        .bits-5 div:nth-child(2) {
          background-color: #3a3a3a;
          margin: -8px 0 0 2px;
          transform: rotate(139deg);
          width: 8px;
        }
        .bits-5 div:nth-child(3) {
          background-color: #3a3a3a;
          margin: 22px 0 0 16px;
        }
        .bits-5 div:nth-child(4) {
          background-color: #3a3a3a;
          margin: -6px 0 0 -1px;
          transform: rotate(138deg);
          width: 10px;
        }
        .bits-5 div:nth-child(5) {
          background-color: #540203;
          margin: -46px 0 0 -13px;
        }
        .bits-5 div:nth-child(6) {
          background-color: #3a3a3a;
          margin: -16px 0 0 9px;
          transform: rotate(80deg);
          width: 6px;
        }
        .bits-5 div:nth-child(7) {
          background-color: #555;
          margin: 23px 0 0 23px;
          transform: rotate(64deg);
          width: 8px;
        }
        .bits-5 div:nth-child(8) {
          background-color: #292929;
          margin: 7px 0 0 24px;
        }
        .bits-5 div:nth-child(9) {
          background-color: #3a3a3a;
          margin: -28px 0 0 22px;
          transform: rotate(102deg);
          width: 10px;
        }
        .bits-6 div:nth-child(1) {
          background-color: #540203;
          margin: -25px 0 0 25px;
        }
        .bits-6 div:nth-child(2) {
          background-color: #540203;
          margin: 26px 0 0 -5px;
          transform: rotate(4deg);
          width: 8px;
        }
        .bits-6 div:nth-child(3) {
          background-color: #292929;
          margin: -72px 0 0 7px;
        }
        .bits-6 div:nth-child(4) {
          background-color: #555;
          margin: -19px 0 0 -7px;
          transform: rotate(109deg);
          width: 10px;
        }
        .bits-6 div:nth-child(5) {
          background-color: #292929;
          margin: -11px 0 0 -16px;
        }
        .bits-6 div:nth-child(6) {
          background-color: #3a3a3a;
          margin: -11px 0 0 49px;
          transform: rotate(25deg);
          width: 6px;
        }
        .bits-6 div:nth-child(7) {
          background-color: #3a3a3a;
          margin: 22px 0 0 16px;
        }
        .bits-6 div:nth-child(8) {
          background-color: #540203;
          margin: -6px 0 0 -13px;
        }
        .bits-6 div:nth-child(9) {
          background-color: #3a3a3a;
          margin: -16px 0 0 9px;
          transform: rotate(80deg);
          width: 6px;
        }
        .bits-7 div:nth-child(1) {
          background-color: #292929;
          margin: 2px 0 0 22px;
        }
        .bits-7 div:nth-child(2) {
          background-color: #540203;
          margin: 26px 0 0 -51px;
          transform: rotate(95deg);
          width: 8px;
        }
        .bits-7 div:nth-child(3) {
          background-color: #3a3a3a;
          margin: 25px 0 0 -14px;
        }
        .bits-7 div:nth-child(4) {
          background-color: #292929;
          margin: 21px 0 0 -16px;
          transform: rotate(30deg);
          width: 10px;
        }
        .bits-7 div:nth-child(5) {
          background-color: #292929;
          margin: -26px 0 0 -10px;
        }
        .bits-7 div:nth-child(6) {
          background-color: #555;
          margin: -5px 0 0 13px;
          transform: rotate(169deg);
          width: 6px;
        }
        .bits-7 div:nth-child(7) {
          background-color: #540203;
          margin: 26px 0 0 -5px;
          transform: rotate(4deg);
          width: 8px;
        }
        .bits-7 div:nth-child(8) {
          background-color: #292929;
          margin: -19px 0 0 -7px;
          transform: rotate(109deg);
          width: 10px;
        }
        .bits-7 div:nth-child(9) {
          background-color: #3a3a3a;
          margin: -11px 0 0 19px;
          transform: rotate(25deg);
          width: 6px;
        }
        .bits-8 div:nth-child(1) {
          background-color: #3a3a3a;
          margin: 17px 0 0 -4px;
        }
        .bits-8 div:nth-child(2) {
          background-color: #3a3a3a;
          margin: 25px 0 0 52px;
          transform: rotate(48deg);
          width: 8px;
        }
        .bits-8 div:nth-child(3) {
          background-color: #540203;
          margin: 16px 0 0 15px;
        }
        .bits-8 div:nth-child(4) {
          background-color: #292929;
          margin: 2px 0 0 20px;
          transform: rotate(96deg);
          width: 10px;
        }
        .bits-8 div:nth-child(5) {
          background-color: #292929;
          margin: -12px 0 0 7px;
        }
        .bits-8 div:nth-child(6) {
          background-color: #540203;
          margin: -16px 0 0 18px;
          transform: rotate(44deg);
          width: 6px;
        }
        .bits-8 div:nth-child(7) {
          background-color: #292929;
          margin: 2px 0 0 22px;
        }
        .bits-8 div:nth-child(8) {
          background-color: #540203;
          margin: 66px 0 0 -21px;
          transform: rotate(95deg);
          width: 8px;
        }
        .bits-8 div:nth-child(9) {
          background-color: #555;
          margin: 15px 0 0 -14px;
        }
        .bits-9 div:nth-child(1) {
          background-color: #3a3a3a;
          margin: 2px 0 0 26px;
        }
        .bits-9 div:nth-child(2) {
          background-color: #540203;
          margin: -11px 0 0 25px;
          transform: rotate(69deg);
          width: 8px;
        }
        .bits-9 div:nth-child(3) {
          background-color: #292929;
          margin: -27px 0 0 -11px;
        }
        .bits-9 div:nth-child(4) {
          background-color: #3a3a3a;
          margin: 5px 0 0 -27px;
          transform: rotate(129deg);
          width: 10px;
        }
        .bits-9 div:nth-child(5) {
          background-color: #292929;
          margin: -29px 0 0 15px;
        }
        .bits-9 div:nth-child(6) {
          background-color: #540203;
          margin: 28px 0 0 -6px;
          transform: rotate(159deg);
          width: 6px;
        }
        .bits-9 div:nth-child(7) {
          background-color: #3a3a3a;
          margin: 17px 0 0 -4px;
        }
        .bits-9 div:nth-child(8) {
          background-color: #555;
          margin: 25px 0 0 12px;
          transform: rotate(48deg);
          width: 8px;
        }
        .bits-9 div:nth-child(9) {
          background-color: #540203;
          margin: 16px 0 0 15px;
        }
        .bits-10 div:nth-child(1) {
          background-color: #555;
          margin: -42px 0 0 -18px;
        }
        .bits-10 div:nth-child(2) {
          background-color: #3a3a3a;
          margin: -15px 0 0 -27px;
          transform: rotate(105deg);
          width: 8px;
        }
        .bits-10 div:nth-child(3) {
          background-color: #292929;
          margin: 17px 0 0 9px;
        }
        .bits-10 div:nth-child(4) {
          background-color: #292929;
          margin: 18px 0 0 10px;
          transform: rotate(138deg);
          width: 10px;
        }
        .bits-10 div:nth-child(5) {
          background-color: #540203;
          margin: -15px 0 0 13px;
        }
        .bits-10 div:nth-child(6) {
          background-color: #555;
          margin: -10px 0 0 2px;
          transform: rotate(172deg);
          width: 6px;
        }
        .bits-10 div:nth-child(7) {
          background-color: #3a3a3a;
          margin: 2px 0 0 26px;
        }
        .bits-10 div:nth-child(8) {
          background-color: #292929;
          margin: -27px 0 0 -11px;
        }
        .bits-10 div:nth-child(9) {
          background-color: #3a3a3a;
          margin: 5px 0 0 -27px;
          transform: rotate(129deg);
          width: 10px;
        }
        .bits-11 div:nth-child(1) {
          background-color: #292929;
          margin: -3px 0 0 14px;
        }
        .bits-11 div:nth-child(2) {
          background-color: #3a3a3a;
          margin: 10px 0 0 8px;
          transform: rotate(35deg);
          width: 8px;
        }
        .bits-11 div:nth-child(3) {
          background-color: #540203;
          margin: 17px 0 0 25px;
        }
        .bits-11 div:nth-child(4) {
          background-color: #292929;
          margin: 19px 0 0 -28px;
          transform: rotate(4deg);
          width: 10px;
        }
        .bits-11 div:nth-child(5) {
          background-color: #3a3a3a;
          margin: -28px 0 0 -10px;
        }
        .bits-11 div:nth-child(6) {
          background-color: #3a3a3a;
          margin: -2px 0 0 -7px;
          transform: rotate(106deg);
          width: 6px;
        }
        .bits-11 div:nth-child(7) {
          background-color: #555;
          margin: 48px 0 0 34px;
          transform: rotate(138deg);
          width: 10px;
        }
        .bits-11 div:nth-child(8) {
          background-color: #540203;
          margin: -15px 0 0 13px;
        }
        .bits-11 div:nth-child(9) {
          background-color: #540203;
          margin: -10px 0 0 2px;
          transform: rotate(172deg);
          width: 6px;
        }
        .bits-12 div:nth-child(1) {
          background-color: #540203;
          margin: -13px 0 0 -18px;
        }
        .bits-12 div:nth-child(2) {
          background-color: #292929;
          margin: -10px 0 0 -13px;
          transform: rotate(116deg);
          width: 8px;
        }
        .bits-12 div:nth-child(3) {
          background-color: #292929;
          margin: 4px 0 0 -20px;
        }
        .bits-12 div:nth-child(4) {
          background-color: #555;
          margin: 20px 0 0 -57px;
          transform: rotate(58deg);
          width: 10px;
        }
        .bits-12 div:nth-child(5) {
          background-color: #3a3a3a;
          margin: 2px 0 0 16px;
        }
        .bits-12 div:nth-child(6) {
          background-color: #540203;
          margin: 14px 0 0 4px;
          transform: rotate(59deg);
          width: 6px;
        }
        .bits-12 div:nth-child(7) {
          background-color: #3a3a3a;
          margin: 0 0 0 8px;
          transform: rotate(35deg);
          width: 8px;
        }
        .bits-12 div:nth-child(8) {
          background-color: #540203;
          margin: 17px 0 0 25px;
        }
        .bits-12 div:nth-child(9) {
          background-color: #292929;
          margin: 19px 0 0 -28px;
          transform: rotate(4deg);
          width: 10px;
        }
        .bits-13 div:nth-child(1) {
          background-color: #292929;
          margin: -27px 0 0 -18px;
        }
        .bits-13 div:nth-child(2) {
          background-color: #555;
          margin: 26px 0 0 -15px;
          transform: rotate(78deg);
          width: 8px;
        }
        .bits-13 div:nth-child(3) {
          background-color: #3a3a3a;
          margin: -13px 0 0 5px;
        }
        .bits-13 div:nth-child(4) {
          background-color: #540203;
          margin: -29px 0 0 -15px;
          transform: rotate(108deg);
          width: 10px;
        }
        .bits-13 div:nth-child(5) {
          background-color: #3a3a3a;
          margin: 24px 0 0 44px;
        }
        .bits-13 div:nth-child(6) {
          background-color: #3a3a3a;
          margin: -12px 0 0 3px;
          transform: rotate(139deg);
          width: 6px;
        }
        .bits-13 div:nth-child(7) {
          background-color: #540203;
          margin: -73px 0 0 -18px;
        }
        .bits-13 div:nth-child(8) {
          background-color: #292929;
          margin: 4px 0 0 -20px;
        }
        .bits-13 div:nth-child(9) {
          background-color: #3a3a3a;
          margin: 12px 0 0 16px;
        }
        .bits-14 div:nth-child(1) {
          background-color: #3a3a3a;
          margin: -27px 0 0 15px;
        }
        .bits-14 div:nth-child(2) {
          background-color: #3a3a3a;
          margin: -2px 0 0 -23px;
          transform: rotate(91deg);
          width: 8px;
        }
        .bits-14 div:nth-child(3) {
          background-color: #540203;
          margin: 29px 0 0 26px;
        }
        .bits-14 div:nth-child(4) {
          background-color: #3a3a3a;
          margin: 17px 0 0 28px;
          transform: rotate(174deg);
          width: 10px;
        }
        .bits-14 div:nth-child(5) {
          background-color: #3a3a3a;
          margin: 16px 0 0 19px;
        }
        .bits-14 div:nth-child(6) {
          background-color: #555;
          margin: -18px 0 0 -12px;
          transform: rotate(143deg);
          width: 6px;
        }
        .bits-14 div:nth-child(7) {
          background-color: #292929;
          margin: -27px 0 0 -18px;
        }
        .bits-14 div:nth-child(8) {
          background-color: #540203;
          margin: 26px 0 0 -15px;
          transform: rotate(78deg);
          width: 8px;
        }
        .bits-14 div:nth-child(9) {
          background-color: #3a3a3a;
          margin: -13px 0 0 5px;
        }
        .bits-15 div:nth-child(1) {
          background-color: #292929;
          margin: 54px 0 0 5px;
        }
        .bits-15 div:nth-child(2) {
          background-color: #292929;
          margin: 5px 0 0 -15px;
          transform: rotate(165deg);
          width: 8px;
        }
        .bits-15 div:nth-child(3) {
          background-color: #292929;
          margin: 11px 0 0 -16px;
        }
        .bits-15 div:nth-child(4) {
          background-color: #292929;
          margin: -12px 0 0 3px;
          transform: rotate(132deg);
          width: 10px;
        }
        .bits-15 div:nth-child(5) {
          background-color: #292929;
          margin: -26px 0 0 17px;
        }
        .bits-15 div:nth-child(6) {
          background-color: #540203;
          margin: -13px 0 0 -11px;
          transform: rotate(0deg);
          width: 6px;
        }
        .bits-15 div:nth-child(7) {
          background-color: #3a3a3a;
          margin: -2px 0 0 -23px;
          transform: rotate(91deg);
          width: 8px;
        }
        .bits-15 div:nth-child(8) {
          background-color: #555;
          margin: 17px 0 0 28px;
          transform: rotate(174deg);
          width: 10px;
        }
        .bits-15 div:nth-child(9) {
          background-color: #292929;
          margin: -18px 0 0 -12px;
          transform: rotate(143deg);
          width: 6px;
        }
        .bit-hidden div {
          background-color: #ddd;
        }
      .bounds,
      .bounds-container {
        height: 378px;
        position: absolute;
        width: 672px;
      }
      .bounds-container {
        background-color: #000;
        border-radius: 5px;
        overflow: hidden;
      }
      .element {
        display: block;
        position: absolute;
      }
      .enemy {
        background-color: #000;
        border: 4px solid #777;
        border-radius: 60px;
        height: 20px;
        transition: border-color 0.03s ease,
          left 0.25s ease-out,
          top 0.25s ease-out;
        width: 20px;
        z-index: 4;
      }
        .enemy.hit {
          border-color: #ccc;
          transition: border-color 0.04s ease,
            left 0.15s ease-out,
            top 0.15s ease-out;
          z-index: 5;
        }
      .hidden {
        display: none;
      }
      .pieces {
        z-index: 1;
      }
        .pieces div {
          background-color: #444;
          border-radius: 10px;
          height: 4px;
          position: absolute;
          transition: background-color 0.3s ease,
            margin 0.1s ease;
          width: 4px;
        }
        .pieces-0 div:nth-child(1) {
          background-color: #444;
          margin: 39px 0 0 9px;
        }
        .pieces-0 div:nth-child(2) {
          background-color: #444;
          margin: 4px 0 0 2px;
          transform: rotate(154deg);
          width: 8px;
        }
        .pieces-0 div:nth-child(3) {
          background-color: #540203;
          margin: -21px 0 0 23px;
        }
        .pieces-0 div:nth-child(4) {
          background-color: #540203;
          margin: -11px 0 0 -29px;
          transform: rotate(175deg);
          width: 10px;
        }
        .pieces-0 div:nth-child(5) {
          background-color: #333;
          margin: -35px 0 0 -18px;
        }
        .pieces-0 div:nth-child(6) {
          background-color: #333;
          margin: 31px 0 0 -20px;
          transform: rotate(28deg);
          width: 6px;
        }
        .pieces-1 div:nth-child(1) {
          background-color: #333;
          margin: 1px 0 0 35px;
        }
        .pieces-1 div:nth-child(2) {
          background-color: #333;
          margin: 22px 0 0 39px;
          transform: rotate(113deg);
          width: 8px;
        }
        .pieces-1 div:nth-child(3) {
          background-color: #540203;
          margin: 26px 0 0 32px;
        }
        .pieces-1 div:nth-child(4) {
          background-color: #333;
          margin: -37px 0 0 15px;
          transform: rotate(42deg);
          width: 10px;
        }
        .pieces-1 div:nth-child(5) {
          background-color: #333;
          margin: -26px 0 0 31px;
        }
        .pieces-1 div:nth-child(6) {
          background-color: #540203;
          margin: -8px 0 0 -3px;
          transform: rotate(113deg);
          width: 6px;
        }
        .pieces-1 div:nth-child(7) {
          background-color: #444;
          margin: 4px 0 0 2px;
          transform: rotate(154deg);
          width: 8px;
        }
        .pieces-1 div:nth-child(8) {
          background-color: #540203;
          margin: -21px 0 0 23px;
        }
        .pieces-1 div:nth-child(9) {
          background-color: #540203;
          margin: -11px 0 0 -29px;
          transform: rotate(175deg);
          width: 10px;
        }
        .pieces-2 div:nth-child(1) {
          background-color: #540203;
          margin: 8px 0 0 -2px;
        }
        .pieces-2 div:nth-child(2) {
          background-color: #444;
          margin: 31px 0 0 40px;
          transform: rotate(172deg);
          width: 8px;
        }
        .pieces-2 div:nth-child(3) {
          background-color: #540203;
          margin: 10px 0 0 -2px;
        }
        .pieces-2 div:nth-child(4) {
          background-color: #444;
          margin: 1px 0 0 21px;
          transform: rotate(93deg);
          width: 10px;
        }
        .pieces-2 div:nth-child(5) {
          background-color: #333;
          margin: 4px 0 0 27px;
        }
        .pieces-2 div:nth-child(6) {
          background-color: #444;
          margin: 16px 0 0 34px;
          transform: rotate(158deg);
          width: 6px;
        }
        .pieces-2 div:nth-child(7) {
          background-color: #333;
          margin: 22px 0 0 39px;
          transform: rotate(113deg);
          width: 8px;
        }
        .pieces-2 div:nth-child(8) {
          background-color: #540203;
          margin: 26px 0 0 32px;
        }
        .pieces-2 div:nth-child(9) {
          background-color: #333;
          margin: -37px 0 0 15px;
          transform: rotate(42deg);
          width: 10px;
        }
        .pieces-3 div:nth-child(1) {
          background-color: #444;
          margin: -6px 0 0 16px;
        }
        .pieces-3 div:nth-child(2) {
          background-color: #444;
          margin: 28px 0 0 29px;
          transform: rotate(112deg);
          width: 8px;
        }
        .pieces-3 div:nth-child(3) {
          background-color: #444;
          margin: -25px 0 0 -24px;
        }
        .pieces-3 div:nth-child(4) {
          background-color: #540203;
          margin: -25px 0 0 22px;
          transform: rotate(77deg);
          width: 10px;
        }
        .pieces-3 div:nth-child(5) {
          background-color: #540203;
          margin: -21px 0 0 8px;
        }
        .pieces-3 div:nth-child(6) {
          background-color: #444;
          margin: -16px 0 0 -17px;
          transform: rotate(155deg);
          width: 6px;
        }
        .pieces-3 div:nth-child(7) {
          background-color: #444;
          margin: 31px 0 0 40px;
          transform: rotate(172deg);
          width: 8px;
        }
        .pieces-3 div:nth-child(8) {
          background-color: #540203;
          margin: 10px 0 0 -2px;
        }
        .pieces-3 div:nth-child(9) {
          background-color: #444;
          margin: 1px 0 0 21px;
          transform: rotate(93deg);
          width: 10px;
        }
        .pieces-4 div:nth-child(1) {
          background-color: #444;
          margin: -15px 0 0 40px;
        }
        .pieces-4 div:nth-child(2) {
          background-color: #444;
          margin: 23px 0 0 23px;
          transform: rotate(64deg);
          width: 8px;
        }
        .pieces-4 div:nth-child(3) {
          background-color: #444;
          margin: 7px 0 0 24px;
        }
        .pieces-4 div:nth-child(4) {
          background-color: #333;
          margin: -28px 0 0 22px;
          transform: rotate(102deg);
          width: 10px;
        }
        .pieces-4 div:nth-child(5) {
          background-color: #540203;
          margin: 26px 0 0 9px;
        }
        .pieces-4 div:nth-child(6) {
          background-color: #540203;
          margin: -8px 0 0 19px;
          transform: rotate(132deg);
          width: 6px;
        }
        .pieces-4 div:nth-child(7) {
          background-color: #444;
          margin: -6px 0 0 16px;
        }
        .pieces-4 div:nth-child(8) {
          background-color: #444;
          margin: 28px 0 0 29px;
          transform: rotate(112deg);
          width: 8px;
        }
        .pieces-4 div:nth-child(9) {
          background-color: #444;
          margin: -25px 0 0 -24px;
        }
        .pieces-5 div:nth-child(1) {
          background-color: #333;
          margin: -9px 0 0 27px;
        }
        .pieces-5 div:nth-child(2) {
          background-color: #333;
          margin: -8px 0 0 2px;
          transform: rotate(139deg);
          width: 8px;
        }
        .pieces-5 div:nth-child(3) {
          background-color: #333;
          margin: 22px 0 0 16px;
        }
        .pieces-5 div:nth-child(4) {
          background-color: #333;
          margin: -6px 0 0 -1px;
          transform: rotate(138deg);
          width: 10px;
        }
        .pieces-5 div:nth-child(5) {
          background-color: #540203;
          margin: -36px 0 0 -33px;
        }
        .pieces-5 div:nth-child(6) {
          background-color: #333;
          margin: -36px 0 0 9px;
          transform: rotate(80deg);
          width: 6px;
        }
        .pieces-5 div:nth-child(7) {
          background-color: #444;
          margin: 23px 0 0 23px;
          transform: rotate(64deg);
          width: 8px;
        }
        .pieces-5 div:nth-child(8) {
          background-color: #444;
          margin: 7px 0 0 24px;
        }
        .pieces-5 div:nth-child(9) {
          background-color: #333;
          margin: -28px 0 0 22px;
          transform: rotate(102deg);
          width: 10px;
        }
        .pieces-6 div:nth-child(1) {
          background-color: #540203;
          margin: -25px 0 0 25px;
        }
        .pieces-6 div:nth-child(2) {
          background-color: #540203;
          margin: 26px 0 0 -5px;
          transform: rotate(4deg);
          width: 8px;
        }
        .pieces-6 div:nth-child(3) {
          background-color: #444;
          margin: -12px 0 0 7px;
        }
        .pieces-6 div:nth-child(4) {
          background-color: #444;
          margin: -19px 0 0 -7px;
          transform: rotate(109deg);
          width: 10px;
        }
        .pieces-6 div:nth-child(5) {
          background-color: #444;
          margin: -11px 0 0 -16px;
        }
        .pieces-6 div:nth-child(6) {
          background-color: #333;
          margin: -11px 0 0 39px;
          transform: rotate(25deg);
          width: 6px;
        }
        .pieces-6 div:nth-child(7) {
          background-color: #333;
          margin: 22px 0 0 16px;
        }
        .pieces-6 div:nth-child(8) {
          background-color: #540203;
          margin: -36px 0 0 -33px;
        }
        .pieces-6 div:nth-child(9) {
          background-color: #333;
          margin: -36px 0 0 9px;
          transform: rotate(80deg);
          width: 6px;
        }
        .pieces-7 div:nth-child(1) {
          background-color: #444;
          margin: 2px 0 0 22px;
        }
        .pieces-7 div:nth-child(2) {
          background-color: #540203;
          margin: 26px 0 0 -21px;
          transform: rotate(95deg);
          width: 8px;
        }
        .pieces-7 div:nth-child(3) {
          background-color: #333;
          margin: 35px 0 0 -14px;
        }
        .pieces-7 div:nth-child(4) {
          background-color: #444;
          margin: 21px 0 0 -16px;
          transform: rotate(30deg);
          width: 10px;
        }
        .pieces-7 div:nth-child(5) {
          background-color: #444;
          margin: -26px 0 0 -40px;
        }
        .pieces-7 div:nth-child(6) {
          background-color: #333;
          margin: -5px 0 0 33px;
          transform: rotate(169deg);
          width: 6px;
        }
        .pieces-7 div:nth-child(7) {
          background-color: #540203;
          margin: 26px 0 0 -5px;
          transform: rotate(4deg);
          width: 8px;
        }
        .pieces-7 div:nth-child(8) {
          background-color: #444;
          margin: -19px 0 0 -7px;
          transform: rotate(109deg);
          width: 10px;
        }
        .pieces-7 div:nth-child(9) {
          background-color: #333;
          margin: -11px 0 0 39px;
          transform: rotate(25deg);
          width: 6px;
        }
        .pieces-8 div:nth-child(1) {
          background-color: #333;
          margin: 37px 0 0 -4px;
        }
        .pieces-8 div:nth-child(2) {
          background-color: #333;
          margin: 25px 0 0 12px;
          transform: rotate(48deg);
          width: 8px;
        }
        .pieces-8 div:nth-child(3) {
          background-color: #540203;
          margin: 36px 0 0 35px;
        }
        .pieces-8 div:nth-child(4) {
          background-color: #444;
          margin: 2px 0 0 20px;
          transform: rotate(96deg);
          width: 10px;
        }
        .pieces-8 div:nth-child(5) {
          background-color: #444;
          margin: -12px 0 0 7px;
        }
        .pieces-8 div:nth-child(6) {
          background-color: #540203;
          margin: -16px 0 0 18px;
          transform: rotate(44deg);
          width: 6px;
        }
        .pieces-8 div:nth-child(7) {
          background-color: #444;
          margin: 2px 0 0 22px;
        }
        .pieces-8 div:nth-child(8) {
          background-color: #540203;
          margin: 26px 0 0 -21px;
          transform: rotate(95deg);
          width: 8px;
        }
        .pieces-8 div:nth-child(9) {
          background-color: #333;
          margin: 35px 0 0 -14px;
        }
        .pieces-9 div:nth-child(1) {
          background-color: #333;
          margin: 2px 0 0 26px;
        }
        .pieces-9 div:nth-child(2) {
          background-color: #540203;
          margin: -31px 0 0 25px;
          transform: rotate(69deg);
          width: 8px;
        }
        .pieces-9 div:nth-child(3) {
          background-color: #444;
          margin: -27px 0 0 -11px;
        }
        .pieces-9 div:nth-child(4) {
          background-color: #333;
          margin: 5px 0 0 -27px;
          transform: rotate(129deg);
          width: 10px;
        }
        .pieces-9 div:nth-child(5) {
          background-color: #444;
          margin: -29px 0 0 15px;
        }
        .pieces-9 div:nth-child(6) {
          background-color: #540203;
          margin: 28px 0 0 -6px;
          transform: rotate(159deg);
          width: 6px;
        }
        .pieces-9 div:nth-child(7) {
          background-color: #333;
          margin: 37px 0 0 -4px;
        }
        .pieces-9 div:nth-child(8) {
          background-color: #333;
          margin: 25px 0 0 12px;
          transform: rotate(48deg);
          width: 8px;
        }
        .pieces-9 div:nth-child(9) {
          background-color: #540203;
          margin: 36px 0 0 35px;
        }
        .pieces-10 div:nth-child(1) {
          background-color: #444;
          margin: -32px 0 0 -38px;
        }
        .pieces-10 div:nth-child(2) {
          background-color: #333;
          margin: -15px 0 0 -27px;
          transform: rotate(105deg);
          width: 8px;
        }
        .pieces-10 div:nth-child(3) {
          background-color: #444;
          margin: 17px 0 0 9px;
        }
        .pieces-10 div:nth-child(4) {
          background-color: #444;
          margin: 38px 0 0 40px;
          transform: rotate(138deg);
          width: 10px;
        }
        .pieces-10 div:nth-child(5) {
          background-color: #540203;
          margin: -35px 0 0 13px;
        }
        .pieces-10 div:nth-child(6) {
          background-color: #540203;
          margin: -10px 0 0 2px;
          transform: rotate(172deg);
          width: 6px;
        }
        .pieces-10 div:nth-child(7) {
          background-color: #333;
          margin: 2px 0 0 26px;
        }
        .pieces-10 div:nth-child(8) {
          background-color: #444;
          margin: -27px 0 0 -11px;
        }
        .pieces-10 div:nth-child(9) {
          background-color: #333;
          margin: 5px 0 0 -27px;
          transform: rotate(129deg);
          width: 10px;
        }
        .pieces-11 div:nth-child(1) {
          background-color: #444;
          margin: -30px 0 0 34px;
        }
        .pieces-11 div:nth-child(2) {
          background-color: #333;
          margin: 30px 0 0 8px;
          transform: rotate(35deg);
          width: 8px;
        }
        .pieces-11 div:nth-child(3) {
          background-color: #540203;
          margin: 37px 0 0 25px;
        }
        .pieces-11 div:nth-child(4) {
          background-color: #444;
          margin: 39px 0 0 -28px;
          transform: rotate(4deg);
          width: 10px;
        }
        .pieces-11 div:nth-child(5) {
          background-color: #333;
          margin: -28px 0 0 -40px;
        }
        .pieces-11 div:nth-child(6) {
          background-color: #333;
          margin: -32px 0 0 -7px;
          transform: rotate(106deg);
          width: 6px;
        }
        .pieces-11 div:nth-child(7) {
          background-color: #444;
          margin: 38px 0 0 40px;
          transform: rotate(138deg);
          width: 10px;
        }
        .pieces-11 div:nth-child(8) {
          background-color: #540203;
          margin: -35px 0 0 13px;
        }
        .pieces-11 div:nth-child(9) {
          background-color: #540203;
          margin: -10px 0 0 2px;
          transform: rotate(172deg);
          width: 6px;
        }
        .pieces-12 div:nth-child(1) {
          background-color: #540203;
          margin: -13px 0 0 -18px;
        }
        .pieces-12 div:nth-child(2) {
          background-color: #444;
          margin: -40px 0 0 -13px;
          transform: rotate(116deg);
          width: 8px;
        }
        .pieces-12 div:nth-child(3) {
          background-color: #444;
          margin: 4px 0 0 -20px;
        }
        .pieces-12 div:nth-child(4) {
          background-color: #333;
          margin: 20px 0 0 -37px;
          transform: rotate(58deg);
          width: 10px;
        }
        .pieces-12 div:nth-child(5) {
          background-color: #333;
          margin: 12px 0 0 16px;
        }
        .pieces-12 div:nth-child(6) {
          background-color: #540203;
          margin: 24px 0 0 4px;
          transform: rotate(59deg);
          width: 6px;
        }
        .pieces-12 div:nth-child(7) {
          background-color: #333;
          margin: 30px 0 0 8px;
          transform: rotate(35deg);
          width: 8px;
        }
        .pieces-12 div:nth-child(8) {
          background-color: #540203;
          margin: 37px 0 0 25px;
        }
        .pieces-12 div:nth-child(9) {
          background-color: #444;
          margin: 39px 0 0 -28px;
          transform: rotate(4deg);
          width: 10px;
        }
        .pieces-13 div:nth-child(1) {
          background-color: #444;
          margin: -27px 0 0 -18px;
        }
        .pieces-13 div:nth-child(2) {
          background-color: #540203;
          margin: 26px 0 0 -35px;
          transform: rotate(78deg);
          width: 8px;
        }
        .pieces-13 div:nth-child(3) {
          background-color: #333;
          margin: -13px 0 0 5px;
        }
        .pieces-13 div:nth-child(4) {
          background-color: #540203;
          margin: -29px 0 0 -15px;
          transform: rotate(108deg);
          width: 10px;
        }
        .pieces-13 div:nth-child(5) {
          background-color: #333;
          margin: 24px 0 0 34px;
        }
        .pieces-13 div:nth-child(6) {
          background-color: #333;
          margin: -32px 0 0 3px;
          transform: rotate(139deg);
          width: 6px;
        }
        .pieces-13 div:nth-child(7) {
          background-color: #540203;
          margin: -13px 0 0 -18px;
        }
        .pieces-13 div:nth-child(8) {
          background-color: #444;
          margin: 4px 0 0 -20px;
        }
        .pieces-13 div:nth-child(9) {
          background-color: #333;
          margin: 12px 0 0 16px;
        }
        .pieces-14 div:nth-child(1) {
          background-color: #333;
          margin: -27px 0 0 15px;
        }
        .pieces-14 div:nth-child(2) {
          background-color: #333;
          margin: -2px 0 0 -23px;
          transform: rotate(91deg);
          width: 8px;
        }
        .pieces-14 div:nth-child(3) {
          background-color: #540203;
          margin: 29px 0 0 26px;
        }
        .pieces-14 div:nth-child(4) {
          background-color: #333;
          margin: 37px 0 0 28px;
          transform: rotate(174deg);
          width: 10px;
        }
        .pieces-14 div:nth-child(5) {
          background-color: #333;
          margin: 16px 0 0 39px;
        }
        .pieces-14 div:nth-child(6) {
          background-color: #444;
          margin: -38px 0 0 -12px;
          transform: rotate(143deg);
          width: 6px;
        }
        .pieces-14 div:nth-child(7) {
          background-color: #444;
          margin: -27px 0 0 -18px;
        }
        .pieces-14 div:nth-child(8) {
          background-color: #540203;
          margin: 26px 0 0 -35px;
          transform: rotate(78deg);
          width: 8px;
        }
        .pieces-14 div:nth-child(9) {
          background-color: #333;
          margin: -13px 0 0 5px;
        }
        .pieces-15 div:nth-child(1) {
          background-color: #444;
          margin: 24px 0 0 5px;
        }
        .pieces-15 div:nth-child(2) {
          background-color: #444;
          margin: 5px 0 0 -35px;
          transform: rotate(165deg);
          width: 8px;
        }
        .pieces-15 div:nth-child(3) {
          background-color: #444;
          margin: 11px 0 0 -36px;
        }
        .pieces-15 div:nth-child(4) {
          background-color: #444;
          margin: -32px 0 0 3px;
          transform: rotate(132deg);
          width: 10px;
        }
        .pieces-15 div:nth-child(5) {
          background-color: #444;
          margin: -26px 0 0 17px;
        }
        .pieces-15 div:nth-child(6) {
          background-color: #540203;
          margin: -33px 0 0 -11px;
          transform: rotate(0deg);
          width: 6px;
        }
        .pieces-15 div:nth-child(7) {
          background-color: #333;
          margin: -2px 0 0 -23px;
          transform: rotate(91deg);
          width: 8px;
        }
        .pieces-15 div:nth-child(8) {
          background-color: #333;
          margin: 37px 0 0 28px;
          transform: rotate(174deg);
          width: 10px;
        }
        .pieces-15 div:nth-child(9) {
          background-color: #444;
          margin: -38px 0 0 -12px;
          transform: rotate(143deg);
          width: 6px;
        }
        .pieces-hidden div {
          background-color: #eee;
        }
      .player {
        border: 4px solid #fff;
        border-radius: 20px;
        height: 20px;
        width: 20px;
      }
        .player[recoil_heavy="0"] {
          margin-top: -2px;
        }
        .player[recoil_heavy="1"] {
          margin-top: 2px;
        }
        .player[recoil_heavy="2"] {
          margin-left: -3px;
        }
        .player[recoil_heavy="3"] {
          margin-left: 3px;
        }
        .player[recoil_light="0"] {
          margin-top: -1px;
        }
        .player[recoil_light="1"] {
          margin-top: 1px;
        }
        .player[recoil_light="2"] {
          margin-left: -2px;
        }
        .player[recoil_light="3"] {
          margin-left: 2px;
        }
      .player,
      .player-weapon {
        background-color: #000;
        z-index: 6;
      }
      .player-weapon {
        border: 4px solid #fff;
        border-radius: 8px;
        height: 4px;
        left: -12px;
        transition: margin 0.05s ease;
        width: 4px;
      }
        .player-weapon[reload="0"] {
          margin-left: -8px;
          margin-top: -10px;
        }
        .player-weapon[reload="1"] {
          margin-left: 8px;
          margin-top: -6px;
        }
        .player-weapon[reload="2"] {
          margin-left: -9px;
          margin-top: 6px;
        }
        .player-weapon[reload="3"] {
          margin-left: 10px;
          margin-top: 6px;
        }
      .player-weapon-muzzle-flash {
        background-color: #444;
        border: none;
        border-radius: 128px;
        height: 0;
        width: 0;
        z-index: 4;
      }
      .player-weapon-projectile {
        background-color: #fff;
        border: none;
        border-radius: 16px;
        height: 8px;
        width: 8px;
        z-index: 5;
      }
        .player-weapon-projectile.heavy-machine-gun {
          border-radius: 48px;
          height: 10px;
          width: 10px;
        }
        .player-weapon-projectile.pulse-rifle {
          border-radius: 64px;
          height: 12px;
          width: 12px;
        }
      .player-weapon-projectile-effect {
        background-color: #ddd;
        border: none;
        border-radius: 8px;
        height: 4px;
        margin: 2px 0 0 2px;
        transition: left 0.05s ease-out,
          top 0.05s ease-out;
        width: 4px;
        z-index: 5;
      }
      .splatter {
        z-index: 2;
      }
        .splatter div {
          background-color: #540203;
          border-radius: 10px;
          height: 4px;
          position: absolute;
          transition: background-color 0.3s ease,
            margin 0.2s ease;
          width: 4px;
        }
        .splatter-0 div:nth-child(1) {
          background-color: #940105;
          margin: 38px 0 0 18px;
        }
        .splatter-0 div:nth-child(2) {
          background-color: #540203;
          margin: 8px 0 0 4px;
          transform: rotate(154deg);
          width: 8px;
        }
        .splatter-0 div:nth-child(3) {
          background-color: #540203;
          margin: -22px 0 0 46px;
        }
        .splatter-0 div:nth-child(4) {
          background-color: #540203;
          margin: -22px 0 0 -58px;
          transform: rotate(175deg);
          width: 10px;
        }
        .splatter-0 div:nth-child(5) {
          background-color: #940105;
          margin: -30px 0 0 -58px;
        }
        .splatter-0 div:nth-child(6) {
          background-color: #540203;
          margin: 22px 0 0 -40px;
          transform: rotate(28deg);
          width: 6px;
        }
        .splatter-1 div:nth-child(1) {
          background-color: #540203;
          margin: 22px 0 0 65px;
        }
        .splatter-1 div:nth-child(2) {
          background-color: #940105;
          margin: 62px 0 0 39px;
          transform: rotate(113deg);
          width: 8px;
        }
        .splatter-1 div:nth-child(3) {
          background-color: #540203;
          margin: 112px 0 0 24px;
        }
        .splatter-1 div:nth-child(4) {
          background-color: #540203;
          margin: -47px 0 0 55px;
          transform: rotate(42deg);
          width: 10px;
        }
        .splatter-1 div:nth-child(5) {
          background-color: #940105;
          margin: -16px 0 0 81px;
        }
        .splatter-1 div:nth-child(6) {
          background-color: #540203;
          margin: -18px 0 0 -31px;
          transform: rotate(113deg);
          width: 6px;
        }
        .splatter-1 div:nth-child(7) {
          background-color: #940105;
          margin: 74px 0 0 20px;
          transform: rotate(154deg);
          width: 8px;
        }
        .splatter-1 div:nth-child(8) {
          background-color: #540203;
          margin: -21px 0 0 53px;
        }
        .splatter-1 div:nth-child(9) {
          background-color: #540203;
          margin: -111px 0 0 -29px;
          transform: rotate(175deg);
          width: 10px;
        }
        .splatter-2 div:nth-child(1) {
          background-color: #540203;
          margin: 8px 0 0 -2px;
        }
        .splatter-2 div:nth-child(2) {
          background-color: #540203;
          margin: 11px 0 0 10px;
          transform: rotate(172deg);
          width: 8px;
        }
        .splatter-2 div:nth-child(3) {
          background-color: #540203;
          margin: 10px 0 0 -2px;
        }
        .splatter-2 div:nth-child(4) {
          background-color: #940105;
          margin: 1px 0 0 21px;
          transform: rotate(93deg);
          width: 10px;
        }
        .splatter-2 div:nth-child(5) {
          background-color: #940105;
          margin: 4px 0 0 20px;
        }
        .splatter-2 div:nth-child(6) {
          background-color: #540203;
          margin: 16px 0 0 14px;
          transform: rotate(158deg);
          width: 6px;
        }
        .splatter-2 div:nth-child(7) {
          background-color: #940105;
          margin: 42px 0 0 19px;
          transform: rotate(113deg);
          width: 8px;
        }
        .splatter-2 div:nth-child(8) {
          background-color: #540203;
          margin: 26px 0 0 12px;
        }
        .splatter-2 div:nth-child(9) {
          background-color: #540203;
          margin: -17px 0 0 15px;
          transform: rotate(42deg);
          width: 10px;
        }
        .splatter-3 div:nth-child(1) {
          background-color: #940105;
          margin: -6px 0 0 16px;
        }
        .splatter-3 div:nth-child(2) {
          background-color: #940105;
          margin: 18px 0 0 19px;
          transform: rotate(112deg);
          width: 8px;
        }
        .splatter-3 div:nth-child(3) {
          background-color: #540203;
          margin: -25px 0 0 -24px;
        }
        .splatter-3 div:nth-child(4) {
          background-color: #940105;
          margin: -55px 0 0 22px;
          transform: rotate(77deg);
          width: 10px;
        }
        .splatter-3 div:nth-child(5) {
          background-color: #540203;
          margin: -21px 0 0 8px;
        }
        .splatter-3 div:nth-child(6) {
          background-color: #940105;
          margin: -16px 0 0 -17px;
          transform: rotate(155deg);
          width: 6px;
        }
        .splatter-3 div:nth-child(7) {
          background-color: #940105;
          margin: 11px 0 0 10px;
          transform: rotate(172deg);
          width: 8px;
        }
        .splatter-3 div:nth-child(8) {
          background-color: #540203;
          margin: 10px 0 0 -2px;
        }
        .splatter-3 div:nth-child(9) {
          background-color: #940105;
          margin: 1px 0 0 21px;
          transform: rotate(93deg);
          width: 10px;
        }
        .splatter-4 div:nth-child(1) {
          background-color: #940105;
          margin: -15px 0 0 10px;
        }
        .splatter-4 div:nth-child(2) {
          background-color: #940105;
          margin: 23px 0 0 23px;
          transform: rotate(64deg);
          width: 8px;
        }
        .splatter-4 div:nth-child(3) {
          background-color: #940105;
          margin: 7px 0 0 24px;
        }
        .splatter-4 div:nth-child(4) {
          background-color: #540203;
          margin: -28px 0 0 22px;
          transform: rotate(102deg);
          width: 10px;
        }
        .splatter-4 div:nth-child(5) {
          background-color: #540203;
          margin: 16px 0 0 9px;
        }
        .splatter-4 div:nth-child(6) {
          background-color: #540203;
          margin: -8px 0 0 19px;
          transform: rotate(132deg);
          width: 6px;
        }
        .splatter-4 div:nth-child(7) {
          background-color: #940105;
          margin: -96px 0 0 16px;
        }
        .splatter-4 div:nth-child(8) {
          background-color: #940105;
          margin: 58px 0 0 29px;
          transform: rotate(112deg);
          width: 8px;
        }
        .splatter-4 div:nth-child(9) {
          background-color: #540203;
          margin: -145px 0 0 -24px;
        }
        .splatter-5 div:nth-child(1) {
          background-color: #940105;
          margin: -9px 0 0 27px;
        }
        .splatter-5 div:nth-child(2) {
          background-color: #940105;
          margin: -8px 0 0 2px;
          transform: rotate(139deg);
          width: 8px;
        }
        .splatter-5 div:nth-child(3) {
          background-color: #540203;
          margin: 22px 0 0 16px;
        }
        .splatter-5 div:nth-child(4) {
          background-color: #540203;
          margin: -6px 0 0 -1px;
          transform: rotate(138deg);
          width: 10px;
        }
        .splatter-5 div:nth-child(5) {
          background-color: #540203;
          margin: -46px 0 0 -13px;
        }
        .splatter-5 div:nth-child(6) {
          background-color: #540203;
          margin: -16px 0 0 9px;
          transform: rotate(80deg);
          width: 6px;
        }
        .splatter-5 div:nth-child(7) {
          background-color: #940105;
          margin: 23px 0 0 23px;
          transform: rotate(64deg);
          width: 8px;
        }
        .splatter-5 div:nth-child(8) {
          background-color: #940105;
          margin: 7px 0 0 24px;
        }
        .splatter-5 div:nth-child(9) {
          background-color: #940105;
          margin: -28px 0 0 22px;
          transform: rotate(102deg);
          width: 10px;
        }
        .splatter-6 div:nth-child(1) {
          background-color: #540203;
          margin: -25px 0 0 25px;
        }
        .splatter-6 div:nth-child(2) {
          background-color: #540203;
          margin: 26px 0 0 -5px;
          transform: rotate(4deg);
          width: 8px;
        }
        .splatter-6 div:nth-child(3) {
          background-color: #540203;
          margin: -72px 0 0 7px;
        }
        .splatter-6 div:nth-child(4) {
          background-color: #540203;
          margin: -19px 0 0 -7px;
          transform: rotate(109deg);
          width: 10px;
        }
        .splatter-6 div:nth-child(5) {
          background-color: #940105;
          margin: -11px 0 0 -16px;
        }
        .splatter-6 div:nth-child(6) {
          background-color: #940105;
          margin: -11px 0 0 149px;
          transform: rotate(25deg);
          width: 6px;
        }
        .splatter-6 div:nth-child(7) {
          background-color: #940105;
          margin: 82px 0 0 56px;
        }
        .splatter-6 div:nth-child(8) {
          background-color: #540203;
          margin: -16px 0 0 -33px;
        }
        .splatter-6 div:nth-child(9) {
          background-color: #540203;
          margin: -116px 0 0 99px;
          transform: rotate(80deg);
          width: 6px;
        }
        .splatter-7 div:nth-child(1) {
          background-color: #940105;
          margin: 2px 0 0 222px;
        }
        .splatter-7 div:nth-child(2) {
          background-color: #540203;
          margin: 26px 0 0 -51px;
          transform: rotate(95deg);
          width: 8px;
        }
        .splatter-7 div:nth-child(3) {
          background-color: #540203;
          margin: 25px 0 0 -14px;
        }
        .splatter-7 div:nth-child(4) {
          background-color: #940105;
          margin: 21px 0 0 -16px;
          transform: rotate(30deg);
          width: 10px;
        }
        .splatter-7 div:nth-child(5) {
          background-color: #540203;
          margin: -26px 0 0 -10px;
        }
        .splatter-7 div:nth-child(6) {
          background-color: #940105;
          margin: -5px 0 0 13px;
          transform: rotate(169deg);
          width: 6px;
        }
        .splatter-7 div:nth-child(7) {
          background-color: #540203;
          margin: 26px 0 0 -5px;
          transform: rotate(4deg);
          width: 8px;
        }
        .splatter-7 div:nth-child(8) {
          background-color: #940105;
          margin: -19px 0 0 -7px;
          transform: rotate(109deg);
          width: 10px;
        }
        .splatter-7 div:nth-child(9) {
          background-color: #540203;
          margin: -11px 0 0 19px;
          transform: rotate(25deg);
          width: 6px;
        }
        .splatter-8 div:nth-child(1) {
          background-color: #540203;
          margin: 17px 0 0 -74px;
        }
        .splatter-8 div:nth-child(2) {
          background-color: #940105;
          margin: 125px 0 0 52px;
          transform: rotate(48deg);
          width: 8px;
        }
        .splatter-8 div:nth-child(3) {
          background-color: #540203;
          margin: 16px 0 0 15px;
        }
        .splatter-8 div:nth-child(4) {
          background-color: #540203;
          margin: 2px 0 0 20px;
          transform: rotate(96deg);
          width: 10px;
        }
        .splatter-8 div:nth-child(5) {
          background-color: #540203;
          margin: -12px 0 0 77px;
        }
        .splatter-8 div:nth-child(6) {
          background-color: #540203;
          margin: -16px 0 0 98px;
          transform: rotate(44deg);
          width: 6px;
        }
        .splatter-8 div:nth-child(7) {
          background-color: #940105;
          margin: 112px 0 0 22px;
        }
        .splatter-8 div:nth-child(8) {
          background-color: #540203;
          margin: 66px 0 0 -21px;
          transform: rotate(95deg);
          width: 8px;
        }
        .splatter-8 div:nth-child(9) {
          background-color: #940105;
          margin: 15px 0 0 -114px;
        }
        .splatter-9 div:nth-child(1) {
          background-color: #540203;
          margin: 92px 0 0 26px;
        }
        .splatter-9 div:nth-child(2) {
          background-color: #540203;
          margin: -11px 0 0 25px;
          transform: rotate(69deg);
          width: 8px;
        }
        .splatter-9 div:nth-child(3) {
          background-color: #940105;
          margin: -27px 0 0 -11px;
        }
        .splatter-9 div:nth-child(4) {
          background-color: #540203;
          margin: 5px 0 0 -27px;
          transform: rotate(129deg);
          width: 10px;
        }
        .splatter-9 div:nth-child(5) {
          background-color: #940105;
          margin: -29px 0 0 15px;
        }
        .splatter-9 div:nth-child(6) {
          background-color: #540203;
          margin: 28px 0 0 -6px;
          transform: rotate(159deg);
          width: 6px;
        }
        .splatter-9 div:nth-child(7) {
          background-color: #940105;
          margin: 87px 0 0 -4px;
        }
        .splatter-9 div:nth-child(8) {
          background-color: #540203;
          margin: 25px 0 0 12px;
          transform: rotate(48deg);
          width: 8px;
        }
        .splatter-9 div:nth-child(9) {
          background-color: #540203;
          margin: 16px 0 0 115px;
        }
        .splatter-10 div:nth-child(1) {
          background-color: #940105;
          margin: -42px 0 0 -18px;
        }
        .splatter-10 div:nth-child(2) {
          background-color: #540203;
          margin: -15px 0 0 -57px;
          transform: rotate(105deg);
          width: 8px;
        }
        .splatter-10 div:nth-child(3) {
          background-color: #940105;
          margin: 47px 0 0 9px;
        }
        .splatter-10 div:nth-child(4) {
          background-color: #540203;
          margin: 18px 0 0 100px;
          transform: rotate(138deg);
          width: 10px;
        }
        .splatter-10 div:nth-child(5) {
          background-color: #540203;
          margin: -15px 0 0 13px;
        }
        .splatter-10 div:nth-child(6) {
          background-color: #940105;
          margin: -10px 0 0 2px;
          transform: rotate(172deg);
          width: 6px;
        }
        .splatter-10 div:nth-child(7) {
          background-color: #540203;
          margin: 2px 0 0 26px;
        }
        .splatter-10 div:nth-child(8) {
          background-color: #940105;
          margin: -27px 0 0 -11px;
        }
        .splatter-10 div:nth-child(9) {
          background-color: #540203;
          margin: 5px 0 0 -27px;
          transform: rotate(129deg);
          width: 10px;
        }
        .splatter-11 div:nth-child(1) {
          background-color: #540203;
          margin: -3px 0 0 14px;
        }
        .splatter-11 div:nth-child(2) {
          background-color: #940105;
          margin: 10px 0 0 8px;
          transform: rotate(35deg);
          width: 8px;
        }
        .splatter-11 div:nth-child(3) {
          background-color: #540203;
          margin: 17px 0 0 25px;
        }
        .splatter-11 div:nth-child(4) {
          background-color: #940105;
          margin: 19px 0 0 -28px;
          transform: rotate(4deg);
          width: 10px;
        }
        .splatter-11 div:nth-child(5) {
          background-color: #940105;
          margin: -28px 0 0 -110px;
        }
        .splatter-11 div:nth-child(6) {
          background-color: #940105;
          margin: -112px 0 0 -17px;
          transform: rotate(106deg);
          width: 6px;
        }
        .splatter-11 div:nth-child(7) {
          background-color: #540203;
          margin: 48px 0 0 34px;
          transform: rotate(138deg);
          width: 10px;
        }
        .splatter-11 div:nth-child(8) {
          background-color: #540203;
          margin: -115px 0 0 13px;
        }
        .splatter-11 div:nth-child(9) {
          background-color: #540203;
          margin: -10px 0 0 2px;
          transform: rotate(172deg);
          width: 6px;
        }
        .splatter-12 div:nth-child(1) {
          background-color: #540203;
          margin: -13px 0 0 -18px;
        }
        .splatter-12 div:nth-child(2) {
          background-color: #940105;
          margin: -10px 0 0 -13px;
          transform: rotate(116deg);
          width: 8px;
        }
        .splatter-12 div:nth-child(3) {
          background-color: #540203;
          margin: 14px 0 0 -200px;
        }
        .splatter-12 div:nth-child(4) {
          background-color: #940105;
          margin: 20px 0 0 -57px;
          transform: rotate(58deg);
          width: 10px;
        }
        .splatter-12 div:nth-child(5) {
          background-color: #540203;
          margin: 92px 0 0 16px;
        }
        .splatter-12 div:nth-child(6) {
          background-color: #540203;
          margin: 14px 0 0 64px;
          transform: rotate(59deg);
          width: 6px;
        }
        .splatter-12 div:nth-child(7) {
          background-color: #540203;
          margin: 0 0 0 18px;
          transform: rotate(35deg);
          width: 8px;
        }
        .splatter-12 div:nth-child(8) {
          background-color: #540203;
          margin: 117px 0 0 25px;
        }
        .splatter-12 div:nth-child(9) {
          background-color: #940105;
          margin: 19px 0 0 -28px;
          transform: rotate(4deg);
          width: 10px;
        }
        .splatter-13 div:nth-child(1) {
          background-color: #540203;
          margin: -27px 0 0 -18px;
        }
        .splatter-13 div:nth-child(2) {
          background-color: #940105;
          margin: 26px 0 0 -15px;
          transform: rotate(78deg);
          width: 8px;
        }
        .splatter-13 div:nth-child(3) {
          background-color: #540203;
          margin: -13px 0 0 75px;
        }
        .splatter-13 div:nth-child(4) {
          background-color: #540203;
          margin: -29px 0 0 -85px;
          transform: rotate(108deg);
          width: 10px;
        }
        .splatter-13 div:nth-child(5) {
          background-color: #540203;
          margin: 74px 0 0 74px;
        }
        .splatter-13 div:nth-child(6) {
          background-color: #940105;
          margin: -12px 0 0 63px;
          transform: rotate(139deg);
          width: 6px;
        }
        .splatter-13 div:nth-child(7) {
          background-color: #540203;
          margin: -73px 0 0 -118px;
        }
        .splatter-13 div:nth-child(8) {
          background-color: #940105;
          margin: 114px 0 0 -20px;
        }
        .splatter-13 div:nth-child(9) {
          background-color: #540203;
          margin: 112px 0 0 116px;
        }
        .splatter-14 div:nth-child(1) {
          background-color: #940105;
          margin: -27px 0 0 35px;
        }
        .splatter-14 div:nth-child(2) {
          background-color: #540203;
          margin: -32px 0 0 -123px;
          transform: rotate(91deg);
          width: 8px;
        }
        .splatter-14 div:nth-child(3) {
          background-color: #540203;
          margin: 129px 0 0 76px;
        }
        .splatter-14 div:nth-child(4) {
          background-color: #940105;
          margin: 57px 0 0 28px;
          transform: rotate(174deg);
          width: 10px;
        }
        .splatter-14 div:nth-child(5) {
          background-color: #940105;
          margin: 160px 0 0 89px;
        }
        .splatter-14 div:nth-child(6) {
          background-color: #540203;
          margin: -58px 0 0 -12px;
          transform: rotate(143deg);
          width: 6px;
        }
        .splatter-14 div:nth-child(7) {
          background-color: #540203;
          margin: -27px 0 0 -118px;
        }
        .splatter-14 div:nth-child(8) {
          background-color: #540203;
          margin: 26px 0 0 -15px;
          transform: rotate(78deg);
          width: 8px;
        }
        .splatter-14 div:nth-child(9) {
          background-color: #940105;
          margin: -53px 0 0 5px;
        }
        .splatter-15 div:nth-child(1) {
          background-color: #940105;
          margin: 54px 0 0 25px;
        }
        .splatter-15 div:nth-child(2) {
          background-color: #540203;
          margin: 5px 0 0 -45px;
          transform: rotate(165deg);
          width: 8px;
        }
        .splatter-15 div:nth-child(3) {
          background-color: #540203;
          margin: 41px 0 0 -36px;
        }
        .splatter-15 div:nth-child(4) {
          background-color: #940105;
          margin: -82px 0 0 3px;
          transform: rotate(132deg);
          width: 10px;
        }
        .splatter-15 div:nth-child(5) {
          background-color: #940105;
          margin: -66px 0 0 17px;
        }
        .splatter-15 div:nth-child(6) {
          background-color: #540203;
          margin: -13px 0 0 -61px;
          transform: rotate(0deg);
          width: 6px;
        }
        .splatter-15 div:nth-child(7) {
          background-color: #940105;
          margin: -72px 0 0 -23px;
          transform: rotate(91deg);
          width: 8px;
        }
        .splatter-15 div:nth-child(8) {
          background-color: #540203;
          margin: 97px 0 0 28px;
          transform: rotate(174deg);
          width: 10px;
        }
        .splatter-15 div:nth-child(9) {
          background-color: #940105;
          margin: -48px 0 0 -68px;
          transform: rotate(143deg);
          width: 6px;
        }
        .splatter-hidden div {
          background-color: #ef0000;
        }
      .title-screen {
        cursor: default;
      }
        .title-screen p {
          color: #fff;
          font-size: 12px;
          font-weight: bold;
          letter-spacing: -0.1px;
          position: absolute;
          text-align: center;
          text-transform: uppercase;
          top: 182px;
          width: 100%;
          z-index: 7;
        }
      .wave-cleanup {
        background-color: #000;
        border-right: 4px solid #444;
        left: -10px;
        transition: width 0.1s ease;
        z-index: 3;
      }
    </style>
  </head>
  <body>
    <div class="bounds-container">
      <div class="bounds">
        <div class="title-screen">
          <p class="prompt">Press an Arrow Key To Play Contrivity</p>
        </div>
      </div>
    </div>
  </body>
  <script type="text/javascript">
    "use strict"

    let enemies_count = 0
    let enemy_bits_randomized_scatter = 0
    let enemy_offsets_map_horizontal = Array(51)
    let enemy_offsets_map_vertical = Array(51)
    let has_bounds_recoil_state = false
    let has_player_weapon_reload_state = false
    let player_move_id
    let player_move_speed = 3
    let player_offset_left
    let player_offset_top
    let player_weapon_ammunition
    let player_weapon_delay
    let player_weapon_delay_maximum
    let player_weapon_muzzle_flash_element
    let player_weapon_next_equipped
    let player_weapon_offset_increment_left = -17
    let player_weapon_offset_increment_top = -17
    let player_weapon_previous_equipped
    let player_weapon_use_id
    let randomized_state = Date.now() >>> 1
    let wave_cleanup_id = 0
    const bounds_element = document.querySelector(".bounds")
    const bounds_container_element = document.querySelector(".bounds-container")
    const enemy_bits_elements = Array(51)
    const enemy_elements = Array(51)
    const enemy_health = Array(51)

    const enemy_hit = function(
      enemy_damage,
      enemy_id,
      enemy_knockback_offset_increment_left,
      enemy_knockback_offset_increment_top
    ) {
      if (
        enemy_knockback_offset_increment_left != 0 ||
        enemy_knockback_offset_increment_top != 0
      ) {
        has_enemy_knockback_states[enemy_id] = true
      }

      enemy_elements[enemy_id].classList.add("hit")

      setTimeout(function() {
        enemy_elements[enemy_id].classList.remove("hit")
      }, 40)

      enemy_health[enemy_id] -= enemy_damage

      if (enemy_health[enemy_id] > 0) {
        let enemy_offset_previous_left = enemy_offsets_left[enemy_id]
        let enemy_offset_next_left = (enemy_offset_previous_left
          + enemy_knockback_offset_increment_left)
          + ((randomized_state & 3) - ((randomized_state >> 2) & 3))
        let enemy_offset_previous_top = enemy_offsets_top[enemy_id]
        let enemy_offset_next_top = (enemy_offset_previous_top
          + enemy_knockback_offset_increment_top)
          + (((randomized_state >> 4) & 3) - ((randomized_state >> 6) & 3))

        enemy_elements[enemy_id].setAttribute(
          "style",
          "left: " + enemy_offset_next_left + "px; top: "
            + enemy_offset_next_top + "px;"
        )
        enemy_offsets_left[enemy_id] = enemy_offset_next_left
        enemy_offsets_top[enemy_id] = enemy_offset_next_top

        if (enemy_offset_previous_left > 0) {
          enemy_offset_previous_left >>= 4

          if (enemy_offset_previous_left > 49) {
            enemy_offset_previous_left = 49
          }
        } else {
          enemy_offset_previous_left = 0
        }

        if (enemy_offset_next_left > 0) {
          enemy_offset_next_left >>= 4

          if (enemy_offset_next_left > 49) {
            enemy_offset_next_left = 49
          }
        } else {
          enemy_offset_next_left = 0
        }

        if (enemy_offset_previous_top > 0) {
          enemy_offset_previous_top >>= 3

          if (enemy_offset_previous_top > 49) {
            enemy_offset_previous_top = 49
          }
        } else {
          enemy_offset_previous_top = 0
        }

        if (enemy_offset_next_top > 0) {
          enemy_offset_next_top >>= 3

          if (enemy_offset_next_top > 49) {
            enemy_offset_next_top = 49
          }
        } else {
          enemy_offset_next_top = 0
        }

        if (enemy_offset_previous_left != enemy_offset_next_left) {
          if (enemy_offset_previous_left == 0) {
            enemy_offsets_map_horizontal[enemy_offset_next_left - 1][enemy_id] = null
            enemy_offsets_map_horizontal[enemy_offset_next_left][enemy_id] = null
            enemy_offsets_map_horizontal[enemy_offset_next_left + 1][enemy_id] = null
            delete enemy_offsets_map_horizontal[enemy_offset_previous_left][enemy_id]

            if (
              (enemy_offset_previous_left + 1) != (enemy_offset_next_left - 1) &&
              (enemy_offset_previous_left + 1) != enemy_offset_next_left
            ) {
              delete enemy_offsets_map_horizontal[enemy_offset_previous_left + 1][enemy_id]
            }
          } else {
            if (enemy_offset_next_left == 0) {
              enemy_offsets_map_horizontal[enemy_offset_next_left][enemy_id] = null
              enemy_offsets_map_horizontal[enemy_offset_next_left + 1][enemy_id] = null

              if (
                (enemy_offset_previous_left - 1) != enemy_offset_next_left &&
                (enemy_offset_previous_left - 1) != (enemy_offset_next_left + 1)
              ) {
                delete enemy_offsets_map_horizontal[enemy_offset_previous_left - 1][enemy_id]
              }

              if (enemy_offset_previous_left != (enemy_offset_next_left + 1)) {
                delete enemy_offsets_map_horizontal[enemy_offset_previous_left][enemy_id]
              }

              delete enemy_offsets_map_horizontal[enemy_offset_previous_left + 1][enemy_id]
            } else {
              enemy_offsets_map_horizontal[enemy_offset_next_left - 1][enemy_id] = null
              enemy_offsets_map_horizontal[enemy_offset_next_left][enemy_id] = null
              enemy_offsets_map_horizontal[enemy_offset_next_left + 1][enemy_id] = null

              if (enemy_offset_previous_left > enemy_offset_next_left) {
                if (
                  (enemy_offset_previous_left - 1) != enemy_offset_next_left &&
                  (enemy_offset_previous_left - 1) != (enemy_offset_next_left + 1)
                ) {
                  delete enemy_offsets_map_horizontal[enemy_offset_previous_left - 1][enemy_id]
                }

                if (enemy_offset_previous_left != (enemy_offset_next_left + 1)) {
                  delete enemy_offsets_map_horizontal[enemy_offset_previous_left][enemy_id]
                }

                delete enemy_offsets_map_horizontal[enemy_offset_previous_left + 1][enemy_id]
              } else {
                delete enemy_offsets_map_horizontal[enemy_offset_previous_left - 1][enemy_id]

                if (enemy_offset_previous_left != (enemy_offset_next_left - 1)) {
                  delete enemy_offsets_map_horizontal[enemy_offset_previous_left][enemy_id]
                }

                if (
                  (enemy_offset_previous_left + 1) != (enemy_offset_next_left - 1) &&
                  (enemy_offset_previous_left + 1) != enemy_offset_next_left
                ) {
                  delete enemy_offsets_map_horizontal[enemy_offset_previous_left + 1][enemy_id]
                }
              }
            }
          }
        }

        if (enemy_offset_previous_top != enemy_offset_next_top) {
          if (enemy_offset_previous_top == 0) {
            enemy_offsets_map_vertical[enemy_offset_next_top - 1][enemy_id] = null
            enemy_offsets_map_vertical[enemy_offset_next_top][enemy_id] = null
            enemy_offsets_map_vertical[enemy_offset_next_top + 1][enemy_id] = null
            delete enemy_offsets_map_vertical[enemy_offset_previous_top][enemy_id]

            if (
              (enemy_offset_previous_top + 1) != (enemy_offset_next_top - 1) &&
              (enemy_offset_previous_top + 1) != enemy_offset_next_top
            ) {
              delete enemy_offsets_map_vertical[enemy_offset_previous_top + 1][enemy_id]
            }
          } else {
            if (enemy_offset_next_top == 0) {
              enemy_offsets_map_vertical[enemy_offset_next_top][enemy_id] = null
              enemy_offsets_map_vertical[enemy_offset_next_top + 1][enemy_id] = null

              if (
                (enemy_offset_previous_top - 1) != enemy_offset_next_top &&
                (enemy_offset_previous_top - 1) != (enemy_offset_next_top + 1)
              ) {
                delete enemy_offsets_map_vertical[enemy_offset_previous_top - 1][enemy_id]
              }

              if (enemy_offset_previous_top != (enemy_offset_next_top + 1)) {
                delete enemy_offsets_map_vertical[enemy_offset_previous_top][enemy_id]
              }

              delete enemy_offsets_map_vertical[enemy_offset_previous_top + 1][enemy_id]
            } else {
              enemy_offsets_map_vertical[enemy_offset_next_top - 1][enemy_id] = null
              enemy_offsets_map_vertical[enemy_offset_next_top][enemy_id] = null
              enemy_offsets_map_vertical[enemy_offset_next_top + 1][enemy_id] = null

              if (enemy_offset_previous_top > enemy_offset_next_top) {
                if (
                  (enemy_offset_previous_top - 1) != enemy_offset_next_top &&
                  (enemy_offset_previous_top - 1) != (enemy_offset_next_top + 1)
                ) {
                  delete enemy_offsets_map_vertical[enemy_offset_previous_top - 1][enemy_id]
                }

                if (enemy_offset_previous_top != (enemy_offset_next_top + 1)) {
                  delete enemy_offsets_map_vertical[enemy_offset_previous_top][enemy_id]
                }

                delete enemy_offsets_map_vertical[enemy_offset_previous_top + 1][enemy_id]
              } else {
                delete enemy_offsets_map_vertical[enemy_offset_previous_top - 1][enemy_id]

                if (enemy_offset_previous_top != (enemy_offset_next_top - 1)) {
                  delete enemy_offsets_map_vertical[enemy_offset_previous_top][enemy_id]
                }

                if (
                  (enemy_offset_previous_top + 1) != (enemy_offset_next_top - 1) &&
                  (enemy_offset_previous_top + 1) != enemy_offset_next_top
                ) {
                  delete enemy_offsets_map_vertical[enemy_offset_previous_top + 1][enemy_id]
                }
              }
            }
          }
        }
      } else {
        let bounds_recoil = randomized_state & 3
        let i = 0
        const enemy_bits_element = enemy_bits_elements.pop()
        const enemy_offset_left = enemy_offsets_left[enemy_id]
        const enemy_offset_top = enemy_offsets_top[enemy_id]
        const enemy_pieces_element = enemy_pieces_elements.pop()
        const enemy_pieces_randomized_scatter = enemy_id & 15
        const enemy_splatter_element = enemy_splatter_elements.pop()
        const enemy_splatter_randomized_scatter = enemy_pieces_randomized_scatter + 1

        if (has_bounds_recoil_state == false) {
          has_bounds_recoil_state = true

          const bounds_recoil_id = setInterval(function() {
            bounds_element.setAttribute(
              "recoil_light",
              bounds_recoil
            )

            i++

            if (i < 3) {
              bounds_recoil = (bounds_recoil + 1) & 3
            } else {
              clearInterval(bounds_recoil_id)
              bounds_element.removeAttribute("recoil_light")
              has_bounds_recoil_state = false
            }
          }, 15)
        }

        clearInterval(enemy_move_ids[enemy_id])

        if (enemy_offset_left > 0) {
          const enemy_segment = enemy_offset_left >> 4

          if (enemy_segment > 49) {
            delete enemy_offsets_map_horizontal[48][enemy_id]
            delete enemy_offsets_map_horizontal[49][enemy_id]
            delete enemy_offsets_map_horizontal[50][enemy_id]
          } else {
            if (enemy_segment != 0) {
              delete enemy_offsets_map_horizontal[enemy_segment - 1][enemy_id]
            }

            delete enemy_offsets_map_horizontal[enemy_segment][enemy_id]
            delete enemy_offsets_map_horizontal[enemy_segment + 1][enemy_id]
          }
        } else {
          delete enemy_offsets_map_horizontal[0][enemy_id]
          delete enemy_offsets_map_horizontal[1][enemy_id]
        }

        if (enemy_offset_top > 0) {
          const enemy_segment = enemy_offset_top >> 3

          if (enemy_segment > 49) {
            delete enemy_offsets_map_vertical[48][enemy_id]
            delete enemy_offsets_map_vertical[49][enemy_id]
            delete enemy_offsets_map_vertical[50][enemy_id]
          } else {
            if (enemy_segment != 0) {
              delete enemy_offsets_map_vertical[enemy_segment - 1][enemy_id]
            }

            delete enemy_offsets_map_vertical[enemy_segment][enemy_id]
            delete enemy_offsets_map_vertical[enemy_segment + 1][enemy_id]
          }
        } else {
          delete enemy_offsets_map_vertical[0][enemy_id]
          delete enemy_offsets_map_vertical[1][enemy_id]
        }

        enemy_elements[enemy_id].setAttribute(
          "style",
          "display: none;"
        )
        enemies_count--
        enemy_health[enemy_id] = 0
        enemy_bits_element.setAttribute(
          "style",
          "left: " + enemy_offset_left + "px; top: "
            + enemy_offset_top + "px;"
        )
        enemy_bits_element.setAttribute(
          "class",
          "element bits bits-" + enemy_bits_randomized_scatter
        )
        enemy_bits_randomized_scatter
          = (enemy_bits_randomized_scatter + 1) & 15
        enemy_pieces_element.setAttribute(
          "style",
          "left: " + enemy_offset_left + "px; top: "
            + enemy_offset_top + "px;"
        )
        enemy_pieces_element.setAttribute(
          "class",
          "element pieces pieces-" + enemy_pieces_randomized_scatter
        )
        enemy_splatter_element.setAttribute(
          "style",
          "left: " + enemy_offset_left + "px; top: "
            + enemy_offset_top + "px;"
        )
        enemy_splatter_element.setAttribute(
          "class",
          "element splatter splatter-" + enemy_splatter_randomized_scatter
        )
      }

      clearTimeout(has_enemy_knockback_state_ids[enemy_id])

      has_enemy_knockback_state_ids[enemy_id] = setTimeout(function() {
        has_enemy_knockback_states[enemy_id] = false
      }, 100)
    }

    const enemy_move = function(enemy_id) {
      if (
        enemy_move_delays[enemy_id] < 26 ||
        has_enemy_knockback_states[enemy_id] == true
      ) {
        enemy_move_delays[enemy_id]++
        return
      }

      if (has_enemy_move_states[enemy_id] == true) {
        return
      }

      has_enemy_move_states[enemy_id] = true

      let enemy_offset_previous_left = enemy_offsets_left[enemy_id]
      let enemy_offset_next_left = enemy_offset_previous_left
      let enemy_offset_previous_top = enemy_offsets_top[enemy_id]
      let enemy_offset_next_top = enemy_offset_previous_top

      if (enemy_offset_next_left < player_offset_left) {
        enemy_offset_next_left += enemy_move_speeds[enemy_id]
          + (randomized_state & 15)
      } else {
        enemy_offset_next_left -= enemy_move_speeds[enemy_id]
          + (randomized_state & 15)
      }

      if (enemy_offset_next_top < player_offset_top) {
        enemy_offset_next_top += enemy_move_speeds[enemy_id]
          + ((randomized_state >> 3) & 15)
      } else {
        enemy_offset_next_top -= enemy_move_speeds[enemy_id]
          + ((randomized_state >> 3) & 15)
      }

      enemy_elements[enemy_id].setAttribute(
        "style",
        "left: " + enemy_offset_next_left + "px; top: "
          + enemy_offset_next_top + "px;"
      )
      enemy_offsets_left[enemy_id] = enemy_offset_next_left
      enemy_offsets_top[enemy_id] = enemy_offset_next_top

      if (enemy_offset_previous_left > 0) {
        enemy_offset_previous_left >>= 4

        if (enemy_offset_previous_left > 49) {
          enemy_offset_previous_left = 49
        }
      } else {
        enemy_offset_previous_left = 0
      }

      if (enemy_offset_next_left > 0) {
        enemy_offset_next_left >>= 4

        if (enemy_offset_next_left > 49) {
          enemy_offset_next_left = 49
        }
      } else {
        enemy_offset_next_left = 0
      }

      if (enemy_offset_previous_top > 0) {
        enemy_offset_previous_top >>= 3

        if (enemy_offset_previous_top > 49) {
          enemy_offset_previous_top = 49
        }
      } else {
        enemy_offset_previous_top = 0
      }

      if (enemy_offset_next_top > 0) {
        enemy_offset_next_top >>= 3

        if (enemy_offset_next_top > 49) {
          enemy_offset_next_top = 49
        }
      } else {
        enemy_offset_next_top = 0
      }

      if (enemy_offset_previous_left != enemy_offset_next_left) {
        if (enemy_offset_previous_left == 0) {
          enemy_offsets_map_horizontal[enemy_offset_next_left - 1][enemy_id] = null
          enemy_offsets_map_horizontal[enemy_offset_next_left][enemy_id] = null
          enemy_offsets_map_horizontal[enemy_offset_next_left + 1][enemy_id] = null
          delete enemy_offsets_map_horizontal[enemy_offset_previous_left][enemy_id]

          if (
            (enemy_offset_previous_left + 1) != (enemy_offset_next_left - 1) &&
            (enemy_offset_previous_left + 1) != enemy_offset_next_left
          ) {
            delete enemy_offsets_map_horizontal[enemy_offset_previous_left + 1][enemy_id]
          }
        } else {
          if (enemy_offset_next_left == 0) {
            enemy_offsets_map_horizontal[enemy_offset_next_left][enemy_id] = null
            enemy_offsets_map_horizontal[enemy_offset_next_left + 1][enemy_id] = null

            if (
              (enemy_offset_previous_left - 1) != enemy_offset_next_left &&
              (enemy_offset_previous_left - 1) != (enemy_offset_next_left + 1)
            ) {
              delete enemy_offsets_map_horizontal[enemy_offset_previous_left - 1][enemy_id]
            }

            if (enemy_offset_previous_left != (enemy_offset_next_left + 1)) {
              delete enemy_offsets_map_horizontal[enemy_offset_previous_left][enemy_id]
            }

            delete enemy_offsets_map_horizontal[enemy_offset_previous_left + 1][enemy_id]
          } else {
            enemy_offsets_map_horizontal[enemy_offset_next_left - 1][enemy_id] = null
            enemy_offsets_map_horizontal[enemy_offset_next_left][enemy_id] = null
            enemy_offsets_map_horizontal[enemy_offset_next_left + 1][enemy_id] = null

            if (enemy_offset_previous_left > enemy_offset_next_left) {
              if (
                (enemy_offset_previous_left - 1) != enemy_offset_next_left &&
                (enemy_offset_previous_left - 1) != (enemy_offset_next_left + 1)
              ) {
                delete enemy_offsets_map_horizontal[enemy_offset_previous_left - 1][enemy_id]
              }

              if (enemy_offset_previous_left != (enemy_offset_next_left + 1)) {
                delete enemy_offsets_map_horizontal[enemy_offset_previous_left][enemy_id]
              }

              delete enemy_offsets_map_horizontal[enemy_offset_previous_left + 1][enemy_id]
            } else {
              delete enemy_offsets_map_horizontal[enemy_offset_previous_left - 1][enemy_id]

              if (enemy_offset_previous_left != (enemy_offset_next_left - 1)) {
                delete enemy_offsets_map_horizontal[enemy_offset_previous_left][enemy_id]
              }

              if (
                (enemy_offset_previous_left + 1) != (enemy_offset_next_left - 1) &&
                (enemy_offset_previous_left + 1) != enemy_offset_next_left
              ) {
                delete enemy_offsets_map_horizontal[enemy_offset_previous_left + 1][enemy_id]
              }
            }
          }
        }
      }

      if (enemy_offset_previous_top != enemy_offset_next_top) {
        if (enemy_offset_previous_top == 0) {
          enemy_offsets_map_vertical[enemy_offset_next_top - 1][enemy_id] = null
          enemy_offsets_map_vertical[enemy_offset_next_top][enemy_id] = null
          enemy_offsets_map_vertical[enemy_offset_next_top + 1][enemy_id] = null
          delete enemy_offsets_map_vertical[enemy_offset_previous_top][enemy_id]

          if (
            (enemy_offset_previous_top + 1) != (enemy_offset_next_top - 1) &&
            (enemy_offset_previous_top + 1) != enemy_offset_next_top
          ) {
            delete enemy_offsets_map_vertical[enemy_offset_previous_top + 1][enemy_id]
          }
        } else {
          if (enemy_offset_next_top == 0) {
            enemy_offsets_map_vertical[enemy_offset_next_top][enemy_id] = null
            enemy_offsets_map_vertical[enemy_offset_next_top + 1][enemy_id] = null

            if (
              (enemy_offset_previous_top - 1) != enemy_offset_next_top &&
              (enemy_offset_previous_top - 1) != (enemy_offset_next_top + 1)
            ) {
              delete enemy_offsets_map_vertical[enemy_offset_previous_top - 1][enemy_id]
            }

            if (enemy_offset_previous_top != (enemy_offset_next_top + 1)) {
              delete enemy_offsets_map_vertical[enemy_offset_previous_top][enemy_id]
            }

            delete enemy_offsets_map_vertical[enemy_offset_previous_top + 1][enemy_id]
          } else {
            enemy_offsets_map_vertical[enemy_offset_next_top - 1][enemy_id] = null
            enemy_offsets_map_vertical[enemy_offset_next_top][enemy_id] = null
            enemy_offsets_map_vertical[enemy_offset_next_top + 1][enemy_id] = null

            if (enemy_offset_previous_top > enemy_offset_next_top) {
              if (
                (enemy_offset_previous_top - 1) != enemy_offset_next_top &&
                (enemy_offset_previous_top - 1) != (enemy_offset_next_top + 1)
              ) {
                delete enemy_offsets_map_vertical[enemy_offset_previous_top - 1][enemy_id]
              }

              if (enemy_offset_previous_top != (enemy_offset_next_top + 1)) {
                delete enemy_offsets_map_vertical[enemy_offset_previous_top][enemy_id]
              }

              delete enemy_offsets_map_vertical[enemy_offset_previous_top + 1][enemy_id]
            } else {
              delete enemy_offsets_map_vertical[enemy_offset_previous_top - 1][enemy_id]

              if (enemy_offset_previous_top != (enemy_offset_next_top - 1)) {
                delete enemy_offsets_map_vertical[enemy_offset_previous_top][enemy_id]
              }

              if (
                (enemy_offset_previous_top + 1) != (enemy_offset_next_top - 1) &&
                (enemy_offset_previous_top + 1) != enemy_offset_next_top
              ) {
                delete enemy_offsets_map_vertical[enemy_offset_previous_top + 1][enemy_id]
              }
            }
          }
        }
      }

      enemy_move_delays[enemy_id] = 0
      has_enemy_move_states[enemy_id] = false
    }

    const enemy_move_delays = Array(51)
    const enemy_move_ids = Array(51)
    const enemy_move_speeds = Array(51)
    const enemy_offsets_left = Array(51)
    const enemy_offsets_top = Array(51)
    const enemy_pieces_elements = Array(51)
    const enemy_splatter_elements = Array(51)
    const has_enemy_knockback_state_ids = Array(51)
    const has_enemy_knockback_states = Array(51)
    const has_enemy_move_states = Array(51)
    const player_element = document.createElement("div")
    const player_inputs = Array(151)
    const player_weapon_element = document.createElement("div")
    const player_weapon_projectile_effect_elements = Array(250)
    const player_weapon_projectile_elements = Array(250)
    const player_weapons = [
      {
        "initialize": function() {
          let i = 0
          const player_weapon_projectile_elements_count
            = player_weapon_projectile_elements.length

          player_weapon_ammunition = 30
          player_weapon_delay_maximum = 6

          while (i != player_weapon_projectile_elements_count) {
            player_weapon_projectile_elements[i].setAttribute(
              "class",
              "assault-rifle element player-weapon-projectile"
            )
            i++
          }
        },
        "use": function() {
          player_weapon_position()

          if (
            player_weapon_delay < player_weapon_delay_maximum ||
            wave_cleanup_id != 0
          ) {
            player_weapon_delay++
            return
          }

          if (
            has_player_weapon_reload_state == true ||
            (player_inputs[133] + player_inputs[141]
              + player_inputs[147] + player_inputs[150]) == 0
          ) {
            return
          }

          player_weapon_delay = 0

          if (
            has_player_weapon_reload_state == false &&
            player_weapon_ammunition == 0
          ) {
            let player_weapon_magazine_offset_increment_left
              = (randomized_state & 3) + 4
            let player_weapon_magazine_offset_increment_top
              = ((randomized_state >> 2) & 3) + 4
            let player_weapon_magazine_offset_left
            let player_weapon_magazine_offset_top
            let player_weapon_magazine_opacity = 98
            let player_weapon_magazine_opacity_decrement = 2
            let player_weapon_magazine_rotation = randomized_state & 255
            let player_weapon_magazine_z_index = 5
            const player_weapon_magazine_element = player_weapon_projectile_effect_elements.pop()

            has_player_weapon_reload_state = true

            if ((randomized_state & 1) == 0) {
              player_weapon_magazine_offset_increment_left
                = -player_weapon_magazine_offset_increment_left
            }

            if (((randomized_state >> 1) & 1) == 0) {
              player_weapon_magazine_offset_increment_top
                = -player_weapon_magazine_offset_increment_top
            }

            player_weapon_element.setAttribute(
              "reload",
              randomized_state & 3
            )

            setTimeout(function() {
              player_weapon_magazine_offset_left = player_weapon_offset_left
              player_weapon_magazine_offset_top = player_weapon_offset_top
              player_weapon_magazine_element.setAttribute(
                "style",
                "left: " + player_weapon_magazine_offset_left + "px; top: "
                  + player_weapon_magazine_offset_top + "px; transform: rotate("
                  + player_weapon_magazine_rotation + "deg); transition: none; width: 12px;"
              )

              const player_weapon_magazine_id = setInterval(function() {
                if (player_weapon_magazine_opacity != 10) {
                  if (player_weapon_magazine_opacity > 70) {
                    player_weapon_magazine_offset_left += player_weapon_magazine_offset_increment_left
                    player_weapon_magazine_offset_top += player_weapon_magazine_offset_increment_top
                    player_weapon_magazine_rotation -= 3
                  } else {
                    player_weapon_magazine_opacity_decrement = 1
                    player_weapon_magazine_z_index = 3
                  }

                  player_weapon_magazine_element.setAttribute(
                    "style",
                    "left: " + player_weapon_magazine_offset_left + "px; opacity: 0."
                      + player_weapon_magazine_opacity + "; top: "
                      + player_weapon_magazine_offset_top + "px; transform: rotate("
                      + player_weapon_magazine_rotation + "deg); width: 12px; z-index:"
                      + player_weapon_magazine_z_index + ";"
                  )
                  player_weapon_magazine_opacity -= player_weapon_magazine_opacity_decrement
                } else {
                  clearInterval(player_weapon_magazine_id)
                  player_weapon_magazine_element.setAttribute(
                    "style",
                    "display: none;"
                  )
                  player_weapon_projectile_effect_elements.push(player_weapon_magazine_element)
                }
              }, 50)

              player_weapon_element.setAttribute(
                "reload",
                randomized_state & 3
              )

              setTimeout(function() {
                player_weapon_element.setAttribute(
                  "reload",
                  randomized_state & 3
                )

                setTimeout(function() {
                  has_player_weapon_reload_state = false
                  player_weapon_ammunition = 30
                  player_weapon_delay = -40
                  player_weapon_element.removeAttribute("reload")
                }, 100)
              }, 100)
            }, 100)

            return
          }

          let has_player_weapon_projectile_move_horizontal_state = false
          let has_player_weapon_projectile_move_state = false
          let i = 0
          let player_weapon_muzzle_flash_margin = 0
          let player_weapon_muzzle_flash_size = 8
          let player_weapon_projectile_casing_offset_left
          let player_weapon_projectile_casing_offset_top
          let player_weapon_projectile_casing_opacity = 96
          let player_weapon_projectile_casing_opacity_decrement = 2
          let player_weapon_projectile_casing_rotation = randomized_state & 255
          let player_weapon_projectile_casing_z_index = 5
          let player_weapon_projectile_offset_left = player_weapon_offset_left + 3
          let player_weapon_projectile_offset_top = player_weapon_offset_top + 3
          let player_weapon_projectile_penetration = 6
          let player_weapon_recoil = randomized_state & 3
          const player_weapon_muzzle_flash_offset_left = player_weapon_projectile_offset_left
          const player_weapon_muzzle_flash_offset_top = player_weapon_projectile_offset_top
          const player_weapon_projectile_casing_element = player_weapon_projectile_effect_elements.pop()
          const player_weapon_projectile_casing_offset_increment_left
            = (player_offset_left & 7) - (randomized_state & 7)
          const player_weapon_projectile_casing_offset_increment_top
            = (player_offset_top & 7) - ((randomized_state >> 3) & 7)
          const player_weapon_projectile_element = player_weapon_projectile_elements.pop()
          const player_weapon_projectile_offset_increment_left = (
            player_weapon_offset_increment_left
            + (randomized_state & 1) - ((randomized_state >> 1) & 1)
          ) * 0.5
          const player_weapon_projectile_offset_increment_top = (
            player_weapon_offset_increment_top
            + ((randomized_state >> 2) & 1) - ((randomized_state >> 3) & 1)
          ) * 0.5
          const enemy_knockback_offset_increment_left
            = (player_weapon_projectile_offset_increment_left * 0.5)
            + (player_weapon_offset_left & 7) - (randomized_state & 7)
          const enemy_knockback_offset_increment_top
            = (player_weapon_projectile_offset_increment_top * 0.5)
            + (player_weapon_offset_top & 7) - ((randomized_state >> 3) & 7)

          const player_weapon_projectile_move = function(player_weapon_projectile_id) {
            if (has_player_weapon_projectile_move_state == true) {
              return
            }

            has_player_weapon_projectile_move_state = true
            player_weapon_projectile_offset_left += player_weapon_projectile_offset_increment_left
            player_weapon_projectile_offset_top += player_weapon_projectile_offset_increment_top
            player_weapon_projectile_element.setAttribute(
              "style",
              "left: " + player_weapon_projectile_offset_left + "px; top: "
                + player_weapon_projectile_offset_top + "px;"
            )

            if (
              player_weapon_projectile_offset_left >= 0 &&
              player_weapon_projectile_offset_left <= 672 &&
              player_weapon_projectile_offset_top >= 0 &&
              player_weapon_projectile_offset_top <= 378
            ) {
              if (has_player_weapon_projectile_move_horizontal_state == true) {
                const player_weapon_projectile_segment
                  = player_weapon_projectile_offset_left >> 4

                for (const enemy_id in enemy_offsets_map_horizontal[
                  player_weapon_projectile_segment
                ]) {
                  if (
                    player_weapon_projectile_offset_left
                      <= (enemy_offsets_left[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_left + 8)
                      >= enemy_offsets_left[enemy_id] &&
                    player_weapon_projectile_offset_top
                      <= (enemy_offsets_top[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_top + 8)
                      >= enemy_offsets_top[enemy_id]
                  ) {
                    let player_weapon_projectile_height = 8
                    let player_weapon_projectile_impact_element
                    let player_weapon_projectile_opacity = 40
                    let player_weapon_projectile_width = 8

                    enemy_hit(
                      40,
                      enemy_id,
                      enemy_knockback_offset_increment_left,
                      enemy_knockback_offset_increment_top
                    )
                    player_weapon_projectile_penetration--

                    if (player_weapon_projectile_penetration != 0) {
                      let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                      let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top

                      player_weapon_projectile_impact_element = player_weapon_projectile_elements.pop()

                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_impact_offset_left -= 5
                          player_weapon_projectile_impact_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_impact_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_impact_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_impact_element)
                        }
                      }, 20)
                    } else {
                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_offset_left -= 5
                          player_weapon_projectile_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_element)
                        }
                      }, 20)

                      clearInterval(player_weapon_projectile_id)
                      break
                    }
                  }
                }
              } else {
                const player_weapon_projectile_segment
                  = player_weapon_projectile_offset_top >> 3

                for (const enemy_id in enemy_offsets_map_vertical[
                  player_weapon_projectile_segment
                ]) {
                  if (
                    player_weapon_projectile_offset_left
                      <= (enemy_offsets_left[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_left + 8)
                      >= enemy_offsets_left[enemy_id] &&
                    player_weapon_projectile_offset_top
                      <= (enemy_offsets_top[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_top + 8)
                      >= enemy_offsets_top[enemy_id]
                  ) {
                    let player_weapon_projectile_height = 8
                    let player_weapon_projectile_impact_element
                    let player_weapon_projectile_opacity = 40
                    let player_weapon_projectile_width = 8

                    enemy_hit(
                      40,
                      enemy_id,
                      enemy_knockback_offset_increment_left,
                      enemy_knockback_offset_increment_top
                    )
                    player_weapon_projectile_penetration--

                    if (player_weapon_projectile_penetration != 0) {
                      let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                      let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top

                      player_weapon_projectile_impact_element = player_weapon_projectile_elements.pop()

                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_impact_offset_left -= 5
                          player_weapon_projectile_impact_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_impact_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_impact_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_impact_element)
                        }
                      }, 20)
                    } else {
                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_offset_left -= 5
                          player_weapon_projectile_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_element)
                        }
                      }, 20)

                      clearInterval(player_weapon_projectile_id)
                      break
                    }
                  }
                }
              }
            }

            has_player_weapon_projectile_move_state = false
          }

          if (player_weapon_offset_increment_left != 0) {
            has_player_weapon_projectile_move_horizontal_state = true
          }

          player_weapon_projectile_casing_offset_left = player_weapon_offset_left
          player_weapon_projectile_casing_offset_top = player_weapon_offset_top
          player_weapon_projectile_casing_element.setAttribute(
            "style",
            "left: " + player_weapon_projectile_casing_offset_left + "px; top: "
              + player_weapon_projectile_casing_offset_top + "px; transition: none;"
          )

          const player_weapon_projectile_casing_id = setInterval(function() {
            if (player_weapon_projectile_casing_opacity != 10) {
              if (player_weapon_projectile_casing_opacity > 70) {
                player_weapon_projectile_casing_offset_left += player_weapon_projectile_casing_offset_increment_left
                player_weapon_projectile_casing_offset_top += player_weapon_projectile_casing_offset_increment_top
                player_weapon_projectile_casing_rotation--
              } else {
                player_weapon_projectile_casing_opacity_decrement = 1
                player_weapon_projectile_casing_z_index = 3
              }

              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "left: " + player_weapon_projectile_casing_offset_left + "px; opacity: 0."
                  + player_weapon_projectile_casing_opacity + "; top: "
                  + player_weapon_projectile_casing_offset_top + "px; transform: rotate("
                  + player_weapon_projectile_casing_rotation + "deg); width: 7px; z-index: "
                  + player_weapon_projectile_casing_z_index + ";"
              )
              player_weapon_projectile_casing_opacity -= player_weapon_projectile_casing_opacity_decrement
            } else {
              clearInterval(player_weapon_projectile_casing_id)
              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_projectile_effect_elements.push(player_weapon_projectile_casing_element)
            }
          }, 50)

          const player_weapon_muzzle_flash_id = setInterval(function() {
            if (player_weapon_muzzle_flash_size != 80) {
              player_weapon_muzzle_flash_margin -= 4
              player_weapon_muzzle_flash_size += 8
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "height: " + player_weapon_muzzle_flash_size + "px; left: "
                  + player_weapon_muzzle_flash_offset_left + "px; margin: "
                  + player_weapon_muzzle_flash_margin + "px 0 0 "
                  + player_weapon_muzzle_flash_margin + "px; top: "
                  + player_weapon_muzzle_flash_offset_top + "px; width: "
                  + player_weapon_muzzle_flash_size + "px;"
              )
            } else {
              clearInterval(player_weapon_muzzle_flash_id)
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "display: none;"
              )
            }
          }, 10)

          if (player_weapon_projectile_offset_increment_left < 0) {
            if (player_weapon_projectile_offset_increment_top < 0) {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_top > -50 &&
                  player_weapon_projectile_offset_left > -50
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            } else {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left > -50 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            }
          } else {
            if (player_weapon_projectile_offset_increment_top < 0) {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top > -50
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            } else {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            }
          }

          const player_weapon_recoil_id = setInterval(function() {
            player_element.setAttribute(
              "recoil_light",
              player_weapon_recoil
            )
            player_weapon_element.setAttribute(
              "recoil_light",
              player_weapon_recoil
            )
            i++

            if (i < 5) {
              player_weapon_recoil = (player_weapon_recoil + 1) & 3
            } else {
              player_element.removeAttribute("recoil_light")
              player_weapon_element.removeAttribute("recoil_light")
              clearInterval(player_weapon_recoil_id)
            }
          }, 25)

          player_weapon_ammunition--
        }
      },
      {
        "initialize": function() {
          let i = 0
          const player_weapon_projectile_elements_count
            = player_weapon_projectile_elements.length

          player_weapon_ammunition = 20
          player_weapon_delay_maximum = 20

          while (i != player_weapon_projectile_elements_count) {
            player_weapon_projectile_elements[i].setAttribute(
              "class",
              "automatic-shotgun element player-weapon-projectile"
            )
            i++
          }
        },
        "use": function() {
          player_weapon_position()

          if (
            player_weapon_delay < player_weapon_delay_maximum ||
            wave_cleanup_id != 0
          ) {
            player_weapon_delay++
            return
          }

          if (
            has_player_weapon_reload_state == false &&
            player_weapon_ammunition == 0
          ) {
            let player_weapon_magazine_offset_increment_left
              = (randomized_state & 3) + 3
            let player_weapon_magazine_offset_increment_top
              = ((randomized_state >> 2) & 3) + 3
            let player_weapon_magazine_offset_left
            let player_weapon_magazine_offset_top
            let player_weapon_magazine_opacity = 100
            let player_weapon_magazine_opacity_decrement = 2
            let player_weapon_magazine_z_index = 5
            const player_weapon_magazine_element = player_weapon_projectile_effect_elements.pop()

            has_player_weapon_reload_state = true

            if ((randomized_state & 1) == 0) {
              player_weapon_magazine_offset_increment_left
                = -player_weapon_magazine_offset_increment_left
            }

            if (((randomized_state >> 1) & 1) == 0) {
              player_weapon_magazine_offset_increment_top
                = -player_weapon_magazine_offset_increment_top
            }

            player_weapon_element.setAttribute(
              "reload",
              randomized_state & 3
            )

            setTimeout(function() {
              player_weapon_magazine_offset_left = player_weapon_offset_left
              player_weapon_magazine_offset_top = player_weapon_offset_top
              player_weapon_magazine_element.setAttribute(
                "style",
                "left: " + player_weapon_magazine_offset_left + "px; top: "
                  + player_weapon_magazine_offset_top + "px; transition: none;"
              )

              const player_weapon_magazine_id = setInterval(function() {
                if (player_weapon_magazine_opacity != 10) {
                  if (player_weapon_magazine_opacity > 70) {
                    player_weapon_magazine_offset_left += player_weapon_magazine_offset_increment_left
                    player_weapon_magazine_offset_top += player_weapon_magazine_offset_increment_top
                  } else {
                    player_weapon_magazine_opacity_decrement = 1
                    player_weapon_magazine_z_index = 3
                  }

                  player_weapon_magazine_element.setAttribute(
                    "style",
                    "border-radius: 22px; height: 11px; left: "
                      + player_weapon_magazine_offset_left + "px; opacity: 0."
                      + player_weapon_magazine_opacity + "; top: "
                      + player_weapon_magazine_offset_top + "px; width: 11px; z-index: "
                      + player_weapon_magazine_z_index + ";"
                  )
                  player_weapon_magazine_opacity -= player_weapon_magazine_opacity_decrement
                } else {
                  clearInterval(player_weapon_magazine_id)
                  player_weapon_magazine_element.setAttribute(
                    "style",
                    "display: none;"
                  )
                  player_weapon_projectile_effect_elements.push(player_weapon_magazine_element)
                }
              }, 50)

              player_weapon_element.setAttribute(
                "reload",
                randomized_state & 3
              )

              setTimeout(function() {
                player_weapon_element.setAttribute(
                  "reload",
                  randomized_state & 3
                )

                setTimeout(function() {
                  player_weapon_element.setAttribute(
                    "reload",
                    randomized_state & 3
                  )

                  setTimeout(function() {
                    has_player_weapon_reload_state = false
                    player_weapon_ammunition = 20
                    player_weapon_delay = -15
                    player_weapon_element.removeAttribute("reload")
                  }, 100)
                }, 100)
              }, 100)
            }, 150)

            return
          }

          if (
            has_player_weapon_reload_state == true ||
            (player_inputs[133] + player_inputs[141]
              + player_inputs[147] + player_inputs[150]) == 0
          ) {
            return
          }

          player_weapon_delay = 0

          let i = 0
          let player_weapon_muzzle_flash_margin = 0
          let player_weapon_muzzle_flash_size = 8
          let player_weapon_projectile_casing_offset_left
          let player_weapon_projectile_casing_offset_top
          let player_weapon_projectile_casing_opacity = 96
          let player_weapon_projectile_casing_opacity_decrement = 3
          let player_weapon_projectile_casing_rotation = randomized_state & 255
          let player_weapon_projectile_casing_z_index = 5
          let player_weapon_projectile_delay = 5
          let player_weapon_recoil = randomized_state & 3
          const player_weapon_offset_increment_left_state = player_weapon_offset_increment_left
          const player_weapon_offset_increment_top_state = player_weapon_offset_increment_top
          const player_weapon_offset_left_state = player_weapon_offset_left + 3
          const player_weapon_offset_top_state = player_weapon_offset_top + 3
          const player_weapon_projectile_casing_element = player_weapon_projectile_effect_elements.pop()
          const player_weapon_projectile_casing_offset_increment_left
            = (player_offset_left & 7) - (randomized_state & 7)
          const player_weapon_projectile_casing_offset_increment_top
            = (player_offset_top & 7) - ((randomized_state >> 3) & 7)

          const player_weapon_projectile_initialize = function() {
            let has_player_weapon_projectile_move_horizontal_state = false
            let has_player_weapon_projectile_move_state = false
            let player_weapon_projectile_offset_left = player_weapon_offset_left + 3
            let player_weapon_projectile_offset_top = player_weapon_offset_top + 3
            const player_weapon_projectile_element = player_weapon_projectile_elements.pop()
            const player_weapon_projectile_offset_increment_left = (
              player_weapon_offset_increment_left_state
              + player_weapon_recoil - ((randomized_state >> 2) & 3)
            ) * 0.5
            const player_weapon_projectile_offset_increment_top = (
              player_weapon_offset_increment_top_state
              + player_weapon_recoil - ((randomized_state >> 6) & 3)
            ) * 0.5
            const enemy_knockback_offset_increment_left
              = player_weapon_projectile_offset_increment_left
              + (player_weapon_offset_left & 7) - (randomized_state & 7)
            const enemy_knockback_offset_increment_top
              = player_weapon_projectile_offset_increment_top
              + (player_weapon_offset_top & 7) - ((randomized_state >> 3) & 7)

            const player_weapon_projectile_move = function(player_weapon_projectile_id) {
              if (has_player_weapon_projectile_move_state == true) {
                return
              }

              has_player_weapon_projectile_move_state = true
              player_weapon_projectile_offset_left
                += player_weapon_projectile_offset_increment_left
              player_weapon_projectile_offset_top
                += player_weapon_projectile_offset_increment_top
              player_weapon_projectile_element.setAttribute(
                "style",
                "left: " + player_weapon_projectile_offset_left + "px; top: "
                  + player_weapon_projectile_offset_top + "px;"
              )

              if (
                player_weapon_projectile_offset_left >= 0 &&
                player_weapon_projectile_offset_left <= 672 &&
                player_weapon_projectile_offset_top >= 0 &&
                player_weapon_projectile_offset_top <= 378
              ) {
                if (has_player_weapon_projectile_move_horizontal_state == true) {
                  const player_weapon_projectile_segment
                    = player_weapon_projectile_offset_left >> 4

                  for (const enemy_id in enemy_offsets_map_horizontal[
                    player_weapon_projectile_segment
                  ]) {
                    if (
                      player_weapon_projectile_offset_left
                        <= (enemy_offsets_left[enemy_id] + 28) &&
                      (player_weapon_projectile_offset_left + 8)
                        >= enemy_offsets_left[enemy_id] &&
                      player_weapon_projectile_offset_top
                        <= (enemy_offsets_top[enemy_id] + 28) &&
                      (player_weapon_projectile_offset_top + 8)
                        >= enemy_offsets_top[enemy_id]
                    ) {
                      let player_weapon_projectile_height = 8
                      let player_weapon_projectile_impact_element
                      let player_weapon_projectile_opacity = 60
                      let player_weapon_projectile_width = 8

                      enemy_hit(
                        40,
                        enemy_id,
                        enemy_knockback_offset_increment_left,
                        enemy_knockback_offset_increment_top
                      )
                      let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                      let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top

                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_offset_left -= 5
                          player_weapon_projectile_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_element)
                        }
                      }, 20)

                      clearInterval(player_weapon_projectile_id)
                      break
                    }
                  }
                } else {
                  const player_weapon_projectile_segment
                    = player_weapon_projectile_offset_top >> 3

                  for (const enemy_id in enemy_offsets_map_vertical[
                    player_weapon_projectile_segment
                  ]) {
                    if (
                      player_weapon_projectile_offset_left
                        <= (enemy_offsets_left[enemy_id] + 28) &&
                      (player_weapon_projectile_offset_left + 8)
                        >= enemy_offsets_left[enemy_id] &&
                      player_weapon_projectile_offset_top
                        <= (enemy_offsets_top[enemy_id] + 28) &&
                      (player_weapon_projectile_offset_top + 8)
                        >= enemy_offsets_top[enemy_id]
                    ) {
                      let player_weapon_projectile_height = 8
                      let player_weapon_projectile_impact_element
                      let player_weapon_projectile_opacity = 60
                      let player_weapon_projectile_width = 8

                      enemy_hit(
                        40,
                        enemy_id,
                        enemy_knockback_offset_increment_left,
                        enemy_knockback_offset_increment_top
                      )
                      let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                      let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top

                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_offset_left -= 5
                          player_weapon_projectile_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_element)
                        }
                      }, 20)

                      clearInterval(player_weapon_projectile_id)
                      break
                    }
                  }
                }
              }

              has_player_weapon_projectile_move_state = false
            }

            if (player_weapon_offset_increment_left != 0) {
              has_player_weapon_projectile_move_horizontal_state = true
            }

            if (randomized_state > 3) {
              randomized_state -= 3
            } else {
              randomized_state += 3
            }

            if (player_weapon_projectile_offset_increment_left < 0) {
              if (player_weapon_projectile_offset_increment_top < 0) {
                const player_weapon_projectile_id = setInterval(function() {
                  if (
                    player_weapon_projectile_offset_top > -50 &&
                    player_weapon_projectile_offset_left > -50
                  ) {
                    player_weapon_projectile_move(player_weapon_projectile_id)
                  } else {
                    clearInterval(player_weapon_projectile_id)
                    player_weapon_projectile_elements.push(player_weapon_projectile_element)
                  }
                }, 10)
              } else {
                const player_weapon_projectile_id = setInterval(function() {
                  if (
                    player_weapon_projectile_offset_left > -50 &&
                    player_weapon_projectile_offset_top < 428
                  ) {
                    player_weapon_projectile_move(player_weapon_projectile_id)
                  } else {
                    clearInterval(player_weapon_projectile_id)
                    player_weapon_projectile_elements.push(player_weapon_projectile_element)
                  }
                }, 10)
              }
            } else {
              if (player_weapon_projectile_offset_increment_top < 0) {
                const player_weapon_projectile_id = setInterval(function() {
                  if (
                    player_weapon_projectile_offset_left < 722 &&
                    player_weapon_projectile_offset_top > -50
                  ) {
                    player_weapon_projectile_move(player_weapon_projectile_id)
                  } else {
                    clearInterval(player_weapon_projectile_id)
                    player_weapon_projectile_elements.push(player_weapon_projectile_element)
                  }
                }, 10)
              } else {
                const player_weapon_projectile_id = setInterval(function() {
                  if (
                    player_weapon_projectile_offset_left < 722 &&
                    player_weapon_projectile_offset_top < 428
                  ) {
                    player_weapon_projectile_move(player_weapon_projectile_id)
                  } else {
                    clearInterval(player_weapon_projectile_id)
                    player_weapon_projectile_elements.push(player_weapon_projectile_element)
                  }
                }, 10)
              }
            }
          }

          const player_weapon_muzzle_flash_id = setInterval(function() {
            if (player_weapon_muzzle_flash_size != 72) {
              player_weapon_muzzle_flash_margin -= 4
              player_weapon_muzzle_flash_size += 8
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "height: " + player_weapon_muzzle_flash_size + "px; left: "
                  + player_weapon_offset_left_state + "px; margin: "
                  + player_weapon_muzzle_flash_margin + "px 0 0 "
                  + player_weapon_muzzle_flash_margin + "px; top: "
                  + player_weapon_offset_top_state + "px; width: "
                  + player_weapon_muzzle_flash_size + "px;"
              )
            } else {
              clearInterval(player_weapon_muzzle_flash_id)
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "display: none;"
              )
            }
          }, 10)

          player_weapon_projectile_casing_offset_left = player_weapon_offset_left
          player_weapon_projectile_casing_offset_top = player_weapon_offset_top
          player_weapon_projectile_casing_element.setAttribute(
            "style",
            "left: " + player_weapon_projectile_casing_offset_left + "px; top: "
              + player_weapon_projectile_casing_offset_top + "px; transform: rotate("
              + player_weapon_projectile_casing_rotation + "deg); transition: none; width: 9px;"
          )

          const player_weapon_projectile_casing_id = setInterval(function() {
            if (player_weapon_projectile_casing_opacity != 9) {
              if (player_weapon_projectile_casing_opacity > 70) {
                player_weapon_projectile_casing_offset_left += player_weapon_projectile_casing_offset_increment_left
                player_weapon_projectile_casing_offset_top += player_weapon_projectile_casing_offset_increment_top
                player_weapon_projectile_casing_rotation -= 2
              } else {
                player_weapon_projectile_casing_opacity_decrement = 1
                player_weapon_projectile_casing_z_index = 3
              }

              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "left: " + player_weapon_projectile_casing_offset_left + "px; opacity: 0."
                  + player_weapon_projectile_casing_opacity + "; top: "
                  + player_weapon_projectile_casing_offset_top + "px; transform: rotate("
                  + player_weapon_projectile_casing_rotation + "deg); width: 9px; z-index: "
                  + player_weapon_projectile_casing_z_index + ";"
              )
              player_weapon_projectile_casing_opacity -= player_weapon_projectile_casing_opacity_decrement
            } else {
              clearInterval(player_weapon_projectile_casing_id)
              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_projectile_effect_elements.push(player_weapon_projectile_casing_element)
            }
          }, 50)

          while (player_weapon_projectile_delay != 40) {
            setTimeout(function() {
              player_weapon_projectile_initialize()
            }, player_weapon_projectile_delay)

            player_weapon_projectile_delay += 5
          }

          const player_weapon_recoil_id = setInterval(function() {
            player_element.setAttribute(
              "recoil_heavy",
              player_weapon_recoil
            )
            player_weapon_element.setAttribute(
              "recoil_heavy",
              player_weapon_recoil
            )
            i++

            if (i < 5) {
              player_weapon_recoil = (player_weapon_recoil + 1) & 3
            } else {
              clearInterval(player_weapon_recoil_id)
              player_element.removeAttribute("recoil_heavy")
              player_weapon_element.removeAttribute("recoil_heavy")
            }
          }, 25)

          player_weapon_ammunition--
        }
      },
      {
        "initialize": function() {
          let i = 0
          const player_weapon_projectile_elements_count
            = player_weapon_projectile_elements.length

          player_weapon_ammunition = 60
          player_weapon_delay_maximum = 10

          while (i != player_weapon_projectile_elements_count) {
            player_weapon_projectile_elements[i].setAttribute(
              "class",
              "element heavy-machine-gun player-weapon-projectile"
            )
            i++
          }
        },
        "use": function() {
          player_weapon_position()

          if (
            player_weapon_delay < player_weapon_delay_maximum ||
            wave_cleanup_id != 0
          ) {
            player_weapon_delay++
            return
          }

          let player_weapon_recoil = randomized_state & 3

          if (
            has_player_weapon_reload_state == false &&
            player_weapon_ammunition == 0
          ) {
            let player_weapon_magazine_offset_increment_left
              = (randomized_state & 3) + 3
            let player_weapon_magazine_offset_increment_top
              = ((randomized_state >> 2) & 3) + 3
            let player_weapon_magazine_offset_left
            let player_weapon_magazine_offset_top
            let player_weapon_magazine_opacity = 98
            let player_weapon_magazine_opacity_decrement = 2
            let player_weapon_magazine_rotation = randomized_state & 255
            let player_weapon_magazine_z_index = 5
            const player_weapon_magazine_element = player_weapon_projectile_effect_elements.pop()

            has_player_weapon_reload_state = true

            if ((randomized_state & 1) == 0) {
              player_weapon_magazine_offset_increment_left
                = -player_weapon_magazine_offset_increment_left
            }

            if (((randomized_state >> 1) & 1) == 0) {
              player_weapon_magazine_offset_increment_top
                = -player_weapon_magazine_offset_increment_top
            }

            player_weapon_element.setAttribute(
              "reload",
              player_weapon_recoil
            )

            setTimeout(function() {
              player_weapon_element.setAttribute(
                "reload",
                (player_weapon_recoil + 1) & 3
              )

              setTimeout(function() {
                player_weapon_element.setAttribute(
                  "reload",
                  (player_weapon_recoil + 2) & 3
                )

                setTimeout(function() {
                  player_weapon_magazine_offset_left = player_weapon_offset_left
                  player_weapon_magazine_offset_top = player_weapon_offset_top
                  player_weapon_magazine_element.setAttribute(
                    "style",
                    "left: " + player_weapon_magazine_offset_left + "px; top: "
                      + player_weapon_magazine_offset_top + "px; transform: rotate("
                      + player_weapon_magazine_rotation + "deg); transition: none; width: 12px;"
                  )

                  const player_weapon_magazine_id = setInterval(function() {
                    if (player_weapon_magazine_opacity != 10) {
                      if (player_weapon_magazine_opacity > 70) {
                        player_weapon_magazine_offset_left += player_weapon_magazine_offset_increment_left
                        player_weapon_magazine_offset_top += player_weapon_magazine_offset_increment_top
                        player_weapon_magazine_rotation -= 3
                      } else {
                        player_weapon_magazine_opacity_decrement = 1
                        player_weapon_magazine_z_index = 3
                      }

                      player_weapon_magazine_element.setAttribute(
                        "style",
                        "left: " + player_weapon_magazine_offset_left + "px; opacity: 0."
                          + player_weapon_magazine_opacity + "; top: "
                          + player_weapon_magazine_offset_top + "px; transform: rotate("
                          + player_weapon_magazine_rotation + "deg); width: 20px; z-index: "
                          + player_weapon_magazine_z_index + ";"
                      )
                      player_weapon_magazine_opacity -= player_weapon_magazine_opacity_decrement
                    } else {
                      clearInterval(player_weapon_magazine_id)
                      player_weapon_magazine_element.setAttribute(
                        "style",
                        "display: none;"
                      )
                      player_weapon_projectile_effect_elements.push(player_weapon_magazine_element)
                    }
                  }, 50)

                  player_weapon_element.setAttribute(
                    "reload",
                    (player_weapon_recoil + 3) & 3
                  )

                  setTimeout(function() {
                    player_weapon_element.setAttribute(
                      "reload",
                      player_weapon_recoil
                    )

                    setTimeout(function() {
                      player_weapon_element.setAttribute(
                        "reload",
                        (player_weapon_recoil + 2) & 3
                      )

                      setTimeout(function() {
                        player_weapon_element.setAttribute(
                          "reload",
                          (player_weapon_recoil + 1) & 3
                        )

                        setTimeout(function() {
                          has_player_weapon_reload_state = false
                          player_weapon_ammunition = 60
                          player_weapon_delay = -15
                          player_weapon_element.removeAttribute("reload")
                        }, 30)
                      }, 200)
                    }, 200)
                  }, 70)
                }, 130)
              }, 200)
            }, 150)

            return
          }

          if (
            has_player_weapon_reload_state == true ||
            (player_inputs[133] + player_inputs[141]
              + player_inputs[147] + player_inputs[150]) == 0
          ) {
            return
          }

          player_weapon_delay = 0

          let has_player_weapon_projectile_move_horizontal_state = false
          let has_player_weapon_projectile_move_state = false
          let i = 0
          let player_weapon_muzzle_flash_margin = 0
          let player_weapon_muzzle_flash_size = 8
          let player_weapon_projectile_casing_offset_left
          let player_weapon_projectile_casing_offset_top
          let player_weapon_projectile_casing_opacity = 96
          let player_weapon_projectile_casing_opacity_decrement = 3
          let player_weapon_projectile_casing_rotation = randomized_state & 255
          let player_weapon_projectile_casing_z_index = 5
          let player_weapon_projectile_offset_left = player_weapon_offset_left + 1
          let player_weapon_projectile_offset_top = player_weapon_offset_top + 1
          let player_weapon_projectile_penetration = 10
          const player_weapon_muzzle_flash_offset_left = player_weapon_projectile_offset_left
          const player_weapon_muzzle_flash_offset_top = player_weapon_projectile_offset_top
          const player_weapon_projectile_casing_element = player_weapon_projectile_effect_elements.pop()
          const player_weapon_projectile_casing_offset_increment_left
            = (player_offset_left & 7) - (randomized_state & 7)
          const player_weapon_projectile_casing_offset_increment_top
            = (player_offset_top & 7) - ((randomized_state >> 3) & 7)
          const player_weapon_projectile_element = player_weapon_projectile_elements.pop()
          const player_weapon_projectile_offset_increment_left = (
            player_weapon_offset_increment_left
            + ((randomized_state & 3) + 1) - (((randomized_state >> 2) & 3) + 1)
          ) * 0.5
          const player_weapon_projectile_offset_increment_top = (
            player_weapon_offset_increment_top
            + (((randomized_state >> 4) & 3) + 1) - (((randomized_state >> 6) & 3) + 1)
          ) * 0.5
          const enemy_knockback_offset_increment_left
            = (player_weapon_projectile_offset_increment_left * 3)
            + (player_weapon_offset_left & 7) - (randomized_state & 7)
          const enemy_knockback_offset_increment_top
            = (player_weapon_projectile_offset_increment_top * 3)
            + (player_weapon_offset_top & 7) - ((randomized_state >> 3) & 7)

          const player_weapon_projectile_move = function(player_weapon_projectile_id) {
            if (has_player_weapon_projectile_move_state == true) {
              return
            }

            has_player_weapon_projectile_move_state = true
            player_weapon_projectile_offset_left += player_weapon_projectile_offset_increment_left
            player_weapon_projectile_offset_top += player_weapon_projectile_offset_increment_top
            player_weapon_projectile_element.setAttribute(
              "style",
              "left: " + player_weapon_projectile_offset_left + "px; top: "
                + player_weapon_projectile_offset_top + "px;"
            )

            if (
              player_weapon_projectile_offset_left >= 0 &&
              player_weapon_projectile_offset_left <= 672 &&
              player_weapon_projectile_offset_top >= 0 &&
              player_weapon_projectile_offset_top <= 378
            ) {
              if (has_player_weapon_projectile_move_horizontal_state == true) {
                const player_weapon_projectile_segment
                  = player_weapon_projectile_offset_left >> 4

                for (const enemy_id in enemy_offsets_map_horizontal[
                  player_weapon_projectile_segment
                ]) {
                  if (
                    player_weapon_projectile_offset_left
                      <= (enemy_offsets_left[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_left + 10)
                      >= enemy_offsets_left[enemy_id] &&
                    player_weapon_projectile_offset_top
                      <= (enemy_offsets_top[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_top + 10)
                      >= enemy_offsets_top[enemy_id]
                  ) {
                    let player_weapon_projectile_height = 10
                    let player_weapon_projectile_impact_element
                    let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                    let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top
                    let player_weapon_projectile_opacity = 40
                    let player_weapon_projectile_width = 10

                    enemy_hit(
                      35,
                      enemy_id,
                      enemy_knockback_offset_increment_left,
                      enemy_knockback_offset_increment_top
                    )
                    player_weapon_projectile_penetration--

                    if (player_weapon_projectile_penetration != 0) {
                      let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                      let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top

                      player_weapon_projectile_impact_element = player_weapon_projectile_elements.pop()

                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_impact_offset_left -= 5
                          player_weapon_projectile_impact_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_impact_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_impact_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_impact_element)
                        }
                      }, 20)
                    } else {
                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_offset_left -= 5
                          player_weapon_projectile_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_element)
                        }
                      }, 20)

                      clearInterval(player_weapon_projectile_id)
                      break
                    }
                  }
                }
              } else {
                const player_weapon_projectile_segment
                  = player_weapon_projectile_offset_top >> 3

                for (const enemy_id in enemy_offsets_map_vertical[
                  player_weapon_projectile_segment
                ]) {
                  if (
                    player_weapon_projectile_offset_left
                      <= (enemy_offsets_left[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_left + 10)
                      >= enemy_offsets_left[enemy_id] &&
                    player_weapon_projectile_offset_top
                      <= (enemy_offsets_top[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_top + 10)
                      >= enemy_offsets_top[enemy_id]
                  ) {
                    let player_weapon_projectile_height = 10
                    let player_weapon_projectile_impact_element
                    let player_weapon_projectile_opacity = 40
                    let player_weapon_projectile_width = 10

                    enemy_hit(
                      35,
                      enemy_id,
                      enemy_knockback_offset_increment_left,
                      enemy_knockback_offset_increment_top
                    )
                    player_weapon_projectile_penetration--

                    if (player_weapon_projectile_penetration != 0) {
                      let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                      let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top

                      player_weapon_projectile_impact_element = player_weapon_projectile_elements.pop()

                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_impact_offset_left -= 5
                          player_weapon_projectile_impact_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_impact_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_impact_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_impact_element)
                        }
                      }, 20)
                    } else {
                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_offset_left -= 5
                          player_weapon_projectile_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_element)
                        }
                      }, 20)

                      clearInterval(player_weapon_projectile_id)
                      break
                    }
                  }
                }
              }
            }

            has_player_weapon_projectile_move_state = false
          }

          if (player_weapon_offset_increment_left != 0) {
            has_player_weapon_projectile_move_horizontal_state = true
          }

          player_weapon_projectile_casing_offset_left = player_weapon_offset_left
          player_weapon_projectile_casing_offset_top = player_weapon_offset_top
          player_weapon_projectile_casing_element.setAttribute(
            "style",
            "left: " + player_weapon_projectile_casing_offset_left + "px; top: "
              + player_weapon_projectile_casing_offset_top + "px; transition: none;"
          )

          const player_weapon_projectile_casing_id = setInterval(function() {
            if (player_weapon_projectile_casing_opacity != 9) {
              if (player_weapon_projectile_casing_opacity > 70) {
                player_weapon_projectile_casing_offset_left += player_weapon_projectile_casing_offset_increment_left
                player_weapon_projectile_casing_offset_top += player_weapon_projectile_casing_offset_increment_top
                player_weapon_projectile_casing_rotation--
              } else {
                player_weapon_projectile_casing_opacity_decrement = 1
                player_weapon_projectile_casing_z_index = 3
              }

              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "left: " + player_weapon_projectile_casing_offset_left + "px; opacity: 0."
                  + player_weapon_projectile_casing_opacity + "; top: "
                  + player_weapon_projectile_casing_offset_top + "px; transform: rotate("
                  + player_weapon_projectile_casing_rotation + "deg); width: 11px; z-index: "
                  + player_weapon_projectile_casing_z_index + ";"
              )
              player_weapon_projectile_casing_opacity -= player_weapon_projectile_casing_opacity_decrement
            } else {
              clearInterval(player_weapon_projectile_casing_id)
              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_projectile_effect_elements.push(player_weapon_projectile_casing_element)
            }
          }, 50)

          const player_weapon_muzzle_flash_id = setInterval(function() {
            if (player_weapon_muzzle_flash_size != 72) {
              player_weapon_muzzle_flash_margin -= 4
              player_weapon_muzzle_flash_size += 8
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "height: " + player_weapon_muzzle_flash_size + "px; left: "
                  + player_weapon_muzzle_flash_offset_left + "px; margin: "
                  + player_weapon_muzzle_flash_margin + "px 0 0 "
                  + player_weapon_muzzle_flash_margin + "px; top: "
                  + player_weapon_muzzle_flash_offset_top + "px; width: "
                  + player_weapon_muzzle_flash_size + "px;"
              )
            } else {
              clearInterval(player_weapon_muzzle_flash_id)
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "display: none;"
              )
            }
          }, 10)

          if (player_weapon_projectile_offset_increment_left < 0) {
            if (player_weapon_projectile_offset_increment_top < 0) {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_top > -50 &&
                  player_weapon_projectile_offset_left > -50
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            } else {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left > -50 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            }
          } else {
            if (player_weapon_projectile_offset_increment_top < 0) {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top > -50
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            } else {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            }
          }

          const player_weapon_recoil_id = setInterval(function() {
            player_element.setAttribute(
              "recoil_heavy",
              player_weapon_recoil
            )
            player_weapon_element.setAttribute(
              "recoil_heavy",
              player_weapon_recoil
            )
            i++

            if (i < 3) {
              player_weapon_recoil = (player_weapon_recoil + 1) & 3
            } else {
              clearInterval(player_weapon_recoil_id)
              player_element.removeAttribute("recoil_heavy")
              player_weapon_element.removeAttribute("recoil_heavy")
            }
          }, 25)

          player_weapon_ammunition--
        }
      },
      {
        "initialize": function() {
          let i = 0
          const player_weapon_projectile_elements_count
            = player_weapon_projectile_elements.length

          player_weapon_delay_maximum = 6

          while (i != player_weapon_projectile_elements_count) {
            player_weapon_projectile_elements[i].setAttribute(
              "class",
              "element player-weapon-projectile pulse-rifle"
            )
            i++
          }
        },
        "use": function() {
          player_weapon_position()

          if (
            player_weapon_delay < player_weapon_delay_maximum ||
            wave_cleanup_id != 0
          ) {
            player_weapon_delay++
            return
          }

          if ((player_inputs[133] + player_inputs[141]
            + player_inputs[147] + player_inputs[150]) == 0) {
            return
          }

          player_weapon_delay = 0

          let has_player_weapon_projectile_move_horizontal_state = false
          let has_player_weapon_projectile_move_state = false
          let i = 0
          let player_weapon_muzzle_flash_margin = 0
          let player_weapon_muzzle_flash_size = 8
          let player_weapon_projectile_casing_offset_left
          let player_weapon_projectile_casing_offset_top
          let player_weapon_projectile_casing_opacity = 96
          let player_weapon_projectile_casing_rotation = randomized_state & 255
          let player_weapon_recoil = randomized_state & 3
          let player_weapon_projectile_offset_left = player_weapon_offset_left
          let player_weapon_projectile_offset_top = player_weapon_offset_top
          let player_weapon_projectile_penetration = 2
          const player_weapon_muzzle_flash_offset_left = player_weapon_projectile_offset_left
          const player_weapon_muzzle_flash_offset_top = player_weapon_projectile_offset_top
          const player_weapon_projectile_casing_element = player_weapon_projectile_effect_elements.pop()
          const player_weapon_projectile_casing_offset_increment_left
            = (player_offset_left & 7) - (randomized_state & 7)
          const player_weapon_projectile_casing_offset_increment_top
            = (player_offset_top & 7) - ((randomized_state >> 3) & 7)
          const player_weapon_projectile_element = player_weapon_projectile_elements.pop()
          const player_weapon_projectile_offset_increment_left = (
            player_weapon_offset_increment_left
            + player_weapon_recoil - ((randomized_state >> 2) & 3)
          ) * 0.45
          const player_weapon_projectile_offset_increment_top = (
            player_weapon_offset_increment_top
            + player_weapon_recoil - ((randomized_state >> 4) & 3)
          ) * 0.45
          const enemy_knockback_offset_increment_left
            = (player_weapon_projectile_offset_increment_left * 2)
            + (player_weapon_offset_left & 7) - (randomized_state & 7)
          const enemy_knockback_offset_increment_top
            = (player_weapon_projectile_offset_increment_top * 2)
            + (player_weapon_offset_top & 7) - ((randomized_state >> 3) & 7)

          const player_weapon_projectile_move = function(player_weapon_projectile_id) {
            if (has_player_weapon_projectile_move_state == true) {
              return
            }

            has_player_weapon_projectile_move_state = true
            player_weapon_projectile_offset_left += player_weapon_projectile_offset_increment_left
            player_weapon_projectile_offset_top += player_weapon_projectile_offset_increment_top
            player_weapon_projectile_element.setAttribute(
              "style",
              "left: " + player_weapon_projectile_offset_left + "px; top: "
                + player_weapon_projectile_offset_top + "px;"
            )

            if (
              player_weapon_projectile_offset_left >= 0 &&
              player_weapon_projectile_offset_left <= 672 &&
              player_weapon_projectile_offset_top >= 0 &&
              player_weapon_projectile_offset_top <= 378
            ) {
              if (has_player_weapon_projectile_move_horizontal_state == true) {
                const player_weapon_projectile_segment
                  = player_weapon_projectile_offset_left >> 4

                for (const enemy_id in enemy_offsets_map_horizontal[
                  player_weapon_projectile_segment
                ]) {
                  if (
                    player_weapon_projectile_offset_left
                      <= (enemy_offsets_left[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_left + 12)
                      >= enemy_offsets_left[enemy_id] &&
                    player_weapon_projectile_offset_top
                      <= (enemy_offsets_top[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_top + 12)
                      >= enemy_offsets_top[enemy_id]
                  ) {
                    let player_weapon_projectile_height = 12
                    let player_weapon_projectile_impact_element
                    let player_weapon_projectile_opacity = 60
                    let player_weapon_projectile_width = 12

                    enemy_hit(
                      40,
                      enemy_id,
                      enemy_knockback_offset_increment_left,
                      enemy_knockback_offset_increment_top
                    )
                    player_weapon_projectile_penetration--

                    if (player_weapon_projectile_penetration != 0) {
                      let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                      let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top

                      player_weapon_projectile_impact_element = player_weapon_projectile_elements.pop()

                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 12) {
                          player_weapon_projectile_height += 16
                          player_weapon_projectile_impact_offset_left -= 8
                          player_weapon_projectile_impact_offset_top -= 8
                          player_weapon_projectile_width += 16
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_impact_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_impact_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 16
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_impact_element)
                        }
                      }, 20)
                    } else {
                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 12) {
                          player_weapon_projectile_height += 16
                          player_weapon_projectile_offset_left -= 8
                          player_weapon_projectile_offset_top -= 8
                          player_weapon_projectile_width += 16
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 16
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_element)
                        }
                      }, 20)

                      clearInterval(player_weapon_projectile_id)
                      break
                    }
                  }
                }
              } else {
                const player_weapon_projectile_segment
                  = player_weapon_projectile_offset_top >> 3

                for (const enemy_id in enemy_offsets_map_vertical[
                  player_weapon_projectile_segment
                ]) {
                  if (
                    player_weapon_projectile_offset_left
                      <= (enemy_offsets_left[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_left + 12)
                      >= enemy_offsets_left[enemy_id] &&
                    player_weapon_projectile_offset_top
                      <= (enemy_offsets_top[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_top + 12)
                      >= enemy_offsets_top[enemy_id]
                  ) {
                    let player_weapon_projectile_height = 12
                    let player_weapon_projectile_impact_element
                    let player_weapon_projectile_opacity = 60
                    let player_weapon_projectile_width = 12

                    enemy_hit(
                      40,
                      enemy_id,
                      enemy_knockback_offset_increment_left,
                      enemy_knockback_offset_increment_top
                    )
                    player_weapon_projectile_penetration--

                    if (player_weapon_projectile_penetration != 0) {
                      let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                      let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top

                      player_weapon_projectile_impact_element = player_weapon_projectile_elements.pop()

                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 12) {
                          player_weapon_projectile_height += 16
                          player_weapon_projectile_impact_offset_left -= 8
                          player_weapon_projectile_impact_offset_top -= 8
                          player_weapon_projectile_width += 16
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_impact_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_impact_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 16
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_impact_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_impact_element)
                        }
                      }, 20)
                    } else {
                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity > 12) {
                          player_weapon_projectile_height += 16
                          player_weapon_projectile_offset_left -= 8
                          player_weapon_projectile_offset_top -= 8
                          player_weapon_projectile_width += 16
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "height: " + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 16
                        } else {
                          clearInterval(player_weapon_projectile_impact_id)
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "display: none;"
                          )
                          player_weapon_projectile_elements.push(player_weapon_projectile_element)
                        }
                      }, 20)

                      clearInterval(player_weapon_projectile_id)
                      break
                    }
                  }
                }
              }
            }

            has_player_weapon_projectile_move_state = false
          }

          if (player_weapon_offset_increment_left != 0) {
            has_player_weapon_projectile_move_horizontal_state = true
          }

          player_weapon_projectile_casing_offset_left = player_weapon_offset_left
          player_weapon_projectile_casing_offset_top = player_weapon_offset_top
          player_weapon_projectile_casing_element.setAttribute(
            "style",
            "left: " + player_weapon_projectile_casing_offset_left + "px; top: "
              + player_weapon_projectile_casing_offset_top + "px; transition: none;"
          )

          const player_weapon_projectile_casing_id = setInterval(function() {
            if (player_weapon_projectile_casing_opacity != 24) {
              player_weapon_projectile_casing_offset_left += player_weapon_projectile_casing_offset_increment_left
              player_weapon_projectile_casing_offset_top += player_weapon_projectile_casing_offset_increment_top
              player_weapon_projectile_casing_rotation--
              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "left: " + player_weapon_projectile_casing_offset_left + "px; opacity: 0."
                  + player_weapon_projectile_casing_opacity + "; top: "
                  + player_weapon_projectile_casing_offset_top + "px;"
              )
              player_weapon_projectile_casing_opacity -= 3
            } else {
              clearInterval(player_weapon_projectile_casing_id)
              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_projectile_effect_elements.push(player_weapon_projectile_casing_element)
            }
          }, 20)

          const player_weapon_muzzle_flash_id = setInterval(function() {
            if (player_weapon_muzzle_flash_size != 88) {
              player_weapon_muzzle_flash_margin -= 4
              player_weapon_muzzle_flash_size += 8
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "height: " + player_weapon_muzzle_flash_size + "px; left: "
                  + player_weapon_muzzle_flash_offset_left + "px; margin: "
                  + player_weapon_muzzle_flash_margin + "px 0 0 "
                  + player_weapon_muzzle_flash_margin + "px; top: "
                  + player_weapon_muzzle_flash_offset_top + "px; width: "
                  + player_weapon_muzzle_flash_size + "px;"
              )
            } else {
              clearInterval(player_weapon_muzzle_flash_id)
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "display: none;"
              )
            }
          }, 10)

          if (player_weapon_projectile_offset_increment_left < 0) {
            if (player_weapon_projectile_offset_increment_top < 0) {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_top > -50 &&
                  player_weapon_projectile_offset_left > -50
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            } else {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left > -50 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            }
          } else {
            if (player_weapon_projectile_offset_increment_top < 0) {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top > -50
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            } else {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            }
          }

          const player_weapon_recoil_id = setInterval(function() {
            player_element.setAttribute(
              "recoil_heavy",
              player_weapon_recoil
            )
            player_weapon_element.setAttribute(
              "recoil_heavy",
              player_weapon_recoil
            )
            i++

            if (i < 5) {
              player_weapon_recoil = (player_weapon_recoil + 1) & 3
            } else {
              clearInterval(player_weapon_recoil_id)
              player_element.removeAttribute("recoil_heavy")
              player_weapon_element.removeAttribute("recoil_heavy")
            }
          }, 25)
        }
      },
      {
        "initialize": function() {
          let i = 0
          const player_weapon_projectile_elements_count
            = player_weapon_projectile_elements.length

          player_weapon_ammunition = 50
          player_weapon_delay_maximum = 3

          while (i != player_weapon_projectile_elements_count) {
            player_weapon_projectile_elements[i].setAttribute(
              "class",
              "element player-weapon-projectile submachine-gun"
            )
            i++
          }
        },
        "use": function() {
          player_weapon_position()

          if (
            player_weapon_delay < player_weapon_delay_maximum ||
            wave_cleanup_id != 0
          ) {
            player_weapon_delay++
            return
          }

          if (
            has_player_weapon_reload_state == false &&
            player_weapon_ammunition == 0
          ) {
            let player_weapon_magazine_offset_increment_left
              = (randomized_state & 3) + 3
            let player_weapon_magazine_offset_increment_top
              = ((randomized_state >> 2) & 3) + 3
            let player_weapon_magazine_offset_left
            let player_weapon_magazine_offset_top
            let player_weapon_magazine_opacity = 98
            let player_weapon_magazine_opacity_decrement = 2
            let player_weapon_magazine_rotation = randomized_state & 255
            let player_weapon_magazine_z_index = 5
            const player_weapon_magazine_element = player_weapon_projectile_effect_elements.pop()

            has_player_weapon_reload_state = true

            if ((randomized_state & 1) == 0) {
              player_weapon_magazine_offset_increment_left
                = -player_weapon_magazine_offset_increment_left
            }

            if (((randomized_state >> 1) & 1) == 0) {
              player_weapon_magazine_offset_increment_top
                = -player_weapon_magazine_offset_increment_top
            }

            player_weapon_element.setAttribute(
              "reload",
              randomized_state & 3
            )

            setTimeout(function() {
              player_weapon_magazine_offset_left = player_weapon_offset_left
              player_weapon_magazine_offset_top = player_weapon_offset_top
              player_weapon_magazine_element.setAttribute(
                "style",
                "left: " + player_weapon_magazine_offset_left + "px; top: "
                  + player_weapon_magazine_offset_top + "px; transform: rotate("
                  + player_weapon_magazine_rotation + "deg); transition: none; width: 12px;"
              )

              const player_weapon_magazine_id = setInterval(function() {
                if (player_weapon_magazine_opacity != 10) {
                  if (player_weapon_magazine_opacity > 70) {
                    player_weapon_magazine_offset_left += player_weapon_magazine_offset_increment_left
                    player_weapon_magazine_offset_top += player_weapon_magazine_offset_increment_top
                    player_weapon_magazine_rotation -= 3
                  } else {
                    player_weapon_magazine_opacity_decrement = 1
                    player_weapon_magazine_z_index = 3
                  }

                  player_weapon_magazine_element.setAttribute(
                    "style",
                    "left: " + player_weapon_magazine_offset_left + "px; opacity: 0."
                      + player_weapon_magazine_opacity + "; top: "
                      + player_weapon_magazine_offset_top + "px; transform: rotate("
                      + player_weapon_magazine_rotation + "deg); width: 16px; z-index:"
                      + player_weapon_magazine_z_index + ";"
                  )
                  player_weapon_magazine_opacity -= player_weapon_magazine_opacity_decrement
                } else {
                  clearInterval(player_weapon_magazine_id)
                  player_weapon_magazine_element.setAttribute(
                    "style",
                    "display: none;"
                  )
                  player_weapon_projectile_effect_elements.push(player_weapon_magazine_element)
                }
              }, 50)
              player_weapon_element.setAttribute(
                "reload",
                randomized_state & 3
              )

              setTimeout(function() {
                player_weapon_element.setAttribute(
                  "reload",
                  randomized_state & 3
                )

                setTimeout(function() {
                  has_player_weapon_reload_state = false
                  player_weapon_ammunition = 50
                  player_weapon_delay = -20
                  player_weapon_element.removeAttribute("reload")
                }, 100)
              }, 100)
            }, 100)

            return
          }

          if (
            has_player_weapon_reload_state == true ||
            (player_inputs[133] + player_inputs[141]
              + player_inputs[147] + player_inputs[150]) == 0
          ) {
            return
          }

          player_weapon_delay = 0

          let has_player_weapon_projectile_move_horizontal_state = false
          let has_player_weapon_projectile_move_state = false
          let i = 0
          let player_weapon_muzzle_flash_margin = 0
          let player_weapon_muzzle_flash_size = 8
          let player_weapon_projectile_casing_offset_left
          let player_weapon_projectile_casing_offset_top
          let player_weapon_projectile_casing_opacity = 96
          let player_weapon_projectile_casing_opacity_decrement = 2
          let player_weapon_projectile_casing_rotation = randomized_state & 255
          let player_weapon_projectile_casing_z_index = 5
          let player_weapon_projectile_offset_left = player_weapon_offset_left + 3
          let player_weapon_projectile_offset_top = player_weapon_offset_top + 3
          let player_weapon_recoil = randomized_state & 3
          const player_weapon_muzzle_flash_offset_left = player_weapon_projectile_offset_left
          const player_weapon_muzzle_flash_offset_top = player_weapon_projectile_offset_top
          const player_weapon_projectile_casing_element = player_weapon_projectile_effect_elements.pop()
          const player_weapon_projectile_casing_offset_increment_left
            = (player_offset_left & 7) - (randomized_state & 7)
          const player_weapon_projectile_casing_offset_increment_top
            = (player_offset_top & 7) - ((randomized_state >> 3) & 7)
          const player_weapon_projectile_casing_opacity_maximum = (randomized_state & 15) + 70
          const player_weapon_projectile_element = player_weapon_projectile_elements.pop()
          const player_weapon_projectile_offset_increment_left = (
            player_weapon_offset_increment_left
            + (randomized_state & 1) - ((randomized_state >> 1) & 1)
          ) * 0.5
          const player_weapon_projectile_offset_increment_top = (
            player_weapon_offset_increment_top
            + ((randomized_state >> 2) & 1) - ((randomized_state >> 3) & 1)
          ) * 0.5
          const enemy_knockback_offset_increment_left
            = (player_weapon_projectile_offset_increment_left * 0.5)
            + (player_weapon_offset_left & 7) - (randomized_state & 7)
          const enemy_knockback_offset_increment_top
            = (player_weapon_projectile_offset_increment_top * 0.5)
            + (player_weapon_offset_top & 7) - ((randomized_state >> 3) & 7)

          const player_weapon_projectile_move = function(player_weapon_projectile_id) {
            if (has_player_weapon_projectile_move_state == true) {
              return
            }

            has_player_weapon_projectile_move_state = true
            player_weapon_projectile_offset_left += player_weapon_projectile_offset_increment_left
            player_weapon_projectile_offset_top += player_weapon_projectile_offset_increment_top
            player_weapon_projectile_element.setAttribute(
              "style",
              "left: " + player_weapon_projectile_offset_left + "px; top: "
                + player_weapon_projectile_offset_top + "px;"
            )

            if (
              player_weapon_projectile_offset_left >= 0 &&
              player_weapon_projectile_offset_left <= 672 &&
              player_weapon_projectile_offset_top >= 0 &&
              player_weapon_projectile_offset_top <= 378
            ) {
              if (has_player_weapon_projectile_move_horizontal_state == true) {
                const player_weapon_projectile_segment
                  = player_weapon_projectile_offset_left >> 4

                for (const enemy_id in enemy_offsets_map_horizontal[
                  player_weapon_projectile_segment
                ]) {
                  if (
                    player_weapon_projectile_offset_left
                      <= (enemy_offsets_left[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_left + 8)
                      >= enemy_offsets_left[enemy_id] &&
                    player_weapon_projectile_offset_top
                      <= (enemy_offsets_top[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_top + 8)
                      >= enemy_offsets_top[enemy_id]
                  ) {
                    let player_weapon_projectile_height = 8
                    let player_weapon_projectile_impact_element
                    let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                    let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top
                    let player_weapon_projectile_opacity = 40
                    let player_weapon_projectile_width = 8

                    enemy_hit(
                      50,
                      enemy_id,
                      enemy_knockback_offset_increment_left,
                      enemy_knockback_offset_increment_top
                    )

                    const player_weapon_projectile_impact_id = setInterval(function() {
                      if (player_weapon_projectile_opacity > 0) {
                        player_weapon_projectile_height += 10
                        player_weapon_projectile_offset_left -= 5
                        player_weapon_projectile_offset_top -= 5
                        player_weapon_projectile_width += 8
                        player_weapon_projectile_element.setAttribute(
                          "style",
                          "height: " + player_weapon_projectile_height + "px; left: "
                            + player_weapon_projectile_offset_left + "px; opacity: 0."
                            + player_weapon_projectile_opacity + "; top: "
                            + player_weapon_projectile_offset_top + "px; width: "
                            + player_weapon_projectile_width + "px;"
                        )
                        player_weapon_projectile_opacity -= 20
                      } else {
                        clearInterval(player_weapon_projectile_impact_id)
                        player_weapon_projectile_element.setAttribute(
                          "style",
                          "display: none;"
                        )
                        player_weapon_projectile_elements.push(player_weapon_projectile_element)
                      }
                    }, 20)

                    clearInterval(player_weapon_projectile_id)
                    break
                  }
                }
              } else {
                const player_weapon_projectile_segment
                  = player_weapon_projectile_offset_top >> 3

                for (const enemy_id in enemy_offsets_map_vertical[
                  player_weapon_projectile_segment
                ]) {
                  if (
                    player_weapon_projectile_offset_left
                      <= (enemy_offsets_left[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_left + 8)
                      >= enemy_offsets_left[enemy_id] &&
                    player_weapon_projectile_offset_top
                      <= (enemy_offsets_top[enemy_id] + 28) &&
                    (player_weapon_projectile_offset_top + 8)
                      >= enemy_offsets_top[enemy_id]
                  ) {
                    let player_weapon_projectile_height = 8
                    let player_weapon_projectile_impact_element
                    let player_weapon_projectile_opacity = 40
                    let player_weapon_projectile_width = 8

                    enemy_hit(
                      50,
                      enemy_id,
                      enemy_knockback_offset_increment_left,
                      enemy_knockback_offset_increment_top
                    )

                    const player_weapon_projectile_impact_id = setInterval(function() {
                      if (player_weapon_projectile_opacity > 0) {
                        player_weapon_projectile_height += 10
                        player_weapon_projectile_offset_left -= 5
                        player_weapon_projectile_offset_top -= 5
                        player_weapon_projectile_width += 10
                        player_weapon_projectile_element.setAttribute(
                          "style",
                          "height: " + player_weapon_projectile_height + "px; left: "
                            + player_weapon_projectile_offset_left + "px; opacity: 0."
                            + player_weapon_projectile_opacity + "; top: "
                            + player_weapon_projectile_offset_top + "px; width: "
                            + player_weapon_projectile_width + "px;"
                        )
                        player_weapon_projectile_opacity -= 20
                      } else {
                        clearInterval(player_weapon_projectile_impact_id)
                        player_weapon_projectile_element.setAttribute(
                          "style",
                          "display: none;"
                        )
                        player_weapon_projectile_elements.push(player_weapon_projectile_element)
                      }
                    }, 20)

                    clearInterval(player_weapon_projectile_id)
                    break
                  }
                }
              }
            }

            has_player_weapon_projectile_move_state = false
          }

          if (player_weapon_offset_increment_left != 0) {
            has_player_weapon_projectile_move_horizontal_state = true
          }

          player_weapon_projectile_casing_offset_left = player_weapon_offset_left
          player_weapon_projectile_casing_offset_top = player_weapon_offset_top
          player_weapon_projectile_casing_element.setAttribute(
            "style",
            "left: " + player_weapon_projectile_casing_offset_left + "px; top: "
              + player_weapon_projectile_casing_offset_top + "px; transition: none;"
          )

          const player_weapon_projectile_casing_id = setInterval(function() {
            if (player_weapon_projectile_casing_opacity != 10) {
              if (player_weapon_projectile_casing_opacity > player_weapon_projectile_casing_opacity_maximum) {
                player_weapon_projectile_casing_offset_left += player_weapon_projectile_casing_offset_increment_left
                player_weapon_projectile_casing_offset_top += player_weapon_projectile_casing_offset_increment_top
                player_weapon_projectile_casing_rotation--
              } else {
                player_weapon_projectile_casing_opacity_decrement = 1
                player_weapon_projectile_casing_z_index = 3
              }

              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "left: " + player_weapon_projectile_casing_offset_left + "px; opacity: 0."
                  + player_weapon_projectile_casing_opacity + "; top: "
                  + player_weapon_projectile_casing_offset_top + "px; transform: rotate("
                  + player_weapon_projectile_casing_rotation + "deg); width: 6px; z-index: "
                  + player_weapon_projectile_casing_z_index + ";"
              )
              player_weapon_projectile_casing_opacity -= player_weapon_projectile_casing_opacity_decrement
            } else {
              clearInterval(player_weapon_projectile_casing_id)
              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_projectile_effect_elements.push(player_weapon_projectile_casing_element)
            }
          }, 50)

          const player_weapon_muzzle_flash_id = setInterval(function() {
            if (player_weapon_muzzle_flash_size != 80) {
              player_weapon_muzzle_flash_margin -= 4
              player_weapon_muzzle_flash_size += 8
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "height: " + player_weapon_muzzle_flash_size + "px; left: "
                  + player_weapon_muzzle_flash_offset_left + "px; margin: "
                  + player_weapon_muzzle_flash_margin + "px 0 0 "
                  + player_weapon_muzzle_flash_margin + "px; top: "
                  + player_weapon_muzzle_flash_offset_top + "px; width: "
                  + player_weapon_muzzle_flash_size + "px;"
              )
            } else {
              clearInterval(player_weapon_muzzle_flash_id)
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "display: none;"
              )
            }
          }, 10)

          if (player_weapon_projectile_offset_increment_left < 0) {
            if (player_weapon_projectile_offset_increment_top < 0) {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_top > -50 &&
                  player_weapon_projectile_offset_left > -50
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            } else {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left > -50 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            }
          } else {
            if (player_weapon_projectile_offset_increment_top < 0) {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top > -50
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            } else {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                } else {
                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }
              }, 10)
            }
          }

          const player_weapon_recoil_id = setInterval(function() {
            player_element.setAttribute(
              "recoil_light",
              player_weapon_recoil
            )
            player_weapon_element.setAttribute(
              "recoil_light",
              player_weapon_recoil
            )
            i++

            if (i < 5) {
              player_weapon_recoil = (player_weapon_recoil + 1) & 3
            } else {
              clearInterval(player_weapon_recoil_id)
              player_element.removeAttribute("recoil_light")
              player_weapon_element.removeAttribute("recoil_light")
            }
          }, 25)

          player_weapon_ammunition--
        }
      }
    ]

    const on_document_ready = function(callback) {
      if (document.readyState != "complete") {
        setTimeout(function() {
          on_document_ready(callback)
        }, 10)
      } else {
        callback()
      }
    }

    const player_move = function() {
      if ((player_inputs[97] + player_inputs[100]
        + player_inputs[115] + player_inputs[119]) == 0) {
        return
      }

      if (
        player_inputs[119] == true &&
        player_offset_top > 0
      ) {
        player_offset_top -= player_move_speed

        if (player_offset_top < 0) {
          player_offset_top = 0
        }
      }

      if (
        player_inputs[97] == true &&
        player_offset_left > 0
      ) {
        player_offset_left -= player_move_speed

        if (player_offset_left < 0) {
          player_offset_left = 0
        }
      }

      if (
        player_inputs[115] == true &&
        player_offset_top < 378
      ) {
        player_offset_top += player_move_speed

        if (player_offset_top > 350) {
          player_offset_top = 350
        }
      }

      if (
        player_inputs[100] == true &&
        player_offset_left < 672
      ) {
        player_offset_left += player_move_speed

        if (player_offset_left > 644) {
          player_offset_left = 644
        }
      }

      player_offset_left = player_offset_left
      player_offset_top = player_offset_top
      player_element.setAttribute(
        "style",
        "left: " + player_offset_left + "px; top: "
          + player_offset_top + "px;"
      )
    }

    const player_weapon_position = function() {
      let player_weapon_offset_left = player_offset_left + 8
      let player_weapon_offset_top = player_offset_top + 8
      let player_weapon_position_left = 0
      let player_weapon_position_top = 0

      if (player_inputs[150] == true) {
        player_weapon_position_top = -23

        if (player_inputs[141] == true) {
          player_weapon_position_left = -17
          player_weapon_position_top = -17
        } else {
          if (player_inputs[147] == true) {
            player_weapon_position_left = 17
            player_weapon_position_top = -17
          }
        }

        player_weapon_offset_increment_left = player_weapon_position_left
        player_weapon_offset_increment_top = player_weapon_position_top
      } else {
        if (player_inputs[141] == true) {
          player_weapon_position_left = -23

          if (player_inputs[150] == true) {
            player_weapon_position_left = -17
            player_weapon_position_top = -17
          } else {
            if (player_inputs[133] == true) {
              player_weapon_position_left = -17
              player_weapon_position_top = 17
            }
          }

          player_weapon_offset_increment_left = player_weapon_position_left
          player_weapon_offset_increment_top = player_weapon_position_top
        } else {
          if (player_inputs[133] == true) {
            player_weapon_position_top = 23

            if (player_inputs[141] == true) {
              player_weapon_position_left = -17
              player_weapon_position_top = 17
            } else {
              if (player_inputs[147] == true) {
                player_weapon_position_left = 17
                player_weapon_position_top = 17
              }
            }

            player_weapon_offset_increment_left = player_weapon_position_left
            player_weapon_offset_increment_top = player_weapon_position_top
          } else {
            if (player_inputs[147] == true) {
              player_weapon_position_left = 23

              if (player_inputs[150] == true) {
                player_weapon_position_left = 17
                player_weapon_position_top = -17
              } else {
                if (player_inputs[133] == true) {
                  player_weapon_position_left = 17
                  player_weapon_position_top = 17
                }
              }

              player_weapon_offset_increment_left = player_weapon_position_left
              player_weapon_offset_increment_top = player_weapon_position_top
            }
          }
        }
      }

      window.player_weapon_offset_left = player_weapon_offset_left
        + player_weapon_offset_increment_left
      window.player_weapon_offset_top = player_weapon_offset_top
        + player_weapon_offset_increment_top
      player_weapon_element.setAttribute(
        "style",
        "left: " + window.player_weapon_offset_left + "px; top: "
          + window.player_weapon_offset_top + "px;"
      )
    }

    const select_elements = function(selector, callback) {
      const selected_elements = document.querySelectorAll(selector)

      if (selected_elements.length) {
        for (const selected_element_key in selected_elements) {
          if (selected_elements.hasOwnProperty(selected_element_key)) {
            callback(selected_elements[selected_element_key])
          }
        }
      }
    }

    const wave_initialize = function() {
      let i = 0
      let j
      let randomized_enemy_offset = randomized_state
      let randomized_enemy_offset_state = randomized_state & 65535
      const randomized_enemy_id = (randomized_state & 15) + 25

      select_elements(".bits, .pieces, .splatter", function(selected_element) {
        selected_element.remove()
      })

      while (i != 51) {
        if (typeof enemy_bits_elements[i] != "undefined") {
          enemy_bits_elements[i].remove()
        }

        enemy_bits_elements[i] = document.createElement("div")
        enemy_bits_elements[i].setAttribute(
          "class",
          "bits-hidden"
        )

        if (typeof enemy_elements[i] != "undefined") {
          enemy_elements[i].remove()
        }

        enemy_elements[i] = bounds_element.appendChild(
          document.createElement("div")
        )
        enemy_move_delays[i] = 0
        enemy_offsets_map_horizontal[i] = {}
        enemy_offsets_map_vertical[i] = {}

        if (typeof enemy_pieces_elements[i] != "undefined") {
          enemy_pieces_elements[i].remove()
        }

        enemy_pieces_elements[i] = document.createElement("div")
        enemy_pieces_elements[i].setAttribute(
          "class",
          "pieces-hidden"
        )

        if (typeof enemy_splatter_elements[i] != "undefined") {
          enemy_splatter_elements[i].remove()
        }

        enemy_splatter_elements[i] = document.createElement("div")
        enemy_splatter_elements[i].setAttribute(
          "class",
          "splatter-hidden"
        )
        j = 0

        while (j != 10) {
          enemy_bits_elements[i].appendChild(
            document.createElement("div")
          )
          enemy_pieces_elements[i].appendChild(
            document.createElement("div")
          )
          enemy_splatter_elements[i].appendChild(
            document.createElement("div")
          )
          j++
        }

        enemy_bits_elements[i] = bounds_element.appendChild(
          enemy_bits_elements[i]
        )
        enemy_pieces_elements[i] = bounds_element.appendChild(
          enemy_pieces_elements[i]
        )
        enemy_splatter_elements[i] = bounds_element.appendChild(
          enemy_splatter_elements[i]
        )
        has_enemy_knockback_state_ids[i] = 0
        has_enemy_knockback_states[i] = false
        has_enemy_move_states[i] = false

        randomized_enemy_offset = ((randomized_enemy_offset << 13)
          | (randomized_enemy_offset >> 19)) ^ randomized_enemy_offset_state

        if (randomized_enemy_offset < 0) {
          randomized_enemy_offset >>>= randomized_enemy_offset_state & 15
        }

        randomized_enemy_offset_state += 1111111

        if ((randomized_enemy_offset & 1) == 0) {
          if (((randomized_enemy_offset >> 1) & 1) == 0) {
            enemy_offsets_left[i] = -50
          } else {
            enemy_offsets_left[i] = 722
          }

          enemy_offsets_top[i] = randomized_enemy_offset % 378
        } else {
          if (((randomized_enemy_offset >> 2) & 1) == 0) {
            enemy_offsets_top[i] = -50
          } else {
            enemy_offsets_top[i] = 428
          }

          enemy_offsets_left[i] = randomized_enemy_offset % 672
        }

        enemy_elements[i].setAttribute(
          "style",
          "left: " + enemy_offsets_left[i] + "px; top: "
            + enemy_offsets_top[i] + "px; transition: none;"
        )
        i++
      }

      i = 0
      player_weapon_delay = 0
      player_weapons[player_weapon_next_equipped].initialize()
      player_weapon_use_id = setInterval(
        player_weapons[player_weapon_next_equipped].use,
        10
      )

      const enemies_initialize_id = setInterval(function() {
        if (
          enemies_count != 26 &&
          i != 51
        ) {
          let enemy_offset_left = enemy_offsets_left[i]
          let enemy_offset_top = enemy_offsets_top[i]

          enemy_elements[i].setAttribute(
            "class",
            "element enemy"
          )
          enemy_health[i] = 100
          enemy_move_speeds[i] = randomized_state & 3
          enemies_count++

          if (enemy_offset_left > 0) {
            enemy_offset_left >>= 4

            if (enemy_offset_left > 49) {
              enemy_offset_left = 49
              enemy_offsets_map_horizontal[48][i] = null
            } else {
              if (enemy_offset_left != 0) {
                enemy_offsets_map_horizontal[enemy_offset_left - 1][i] = null
              }
            }
          } else {
            enemy_offset_left = 0
          }

          enemy_offsets_map_horizontal[enemy_offset_left][i] = null
          enemy_offsets_map_horizontal[enemy_offset_left + 1][i] = null

          if (enemy_offset_top > 0) {
            enemy_offset_top >>= 3

            if (enemy_offset_top > 49) {
              enemy_offset_top = 49
              enemy_offsets_map_vertical[48][i] = null
            } else {
              if (enemy_offset_top != 0) {
                enemy_offsets_map_vertical[enemy_offset_top - 1][i] = null
              }
            }
          } else {
            enemy_offset_top = 0
          }

          enemy_offsets_map_vertical[enemy_offset_top][i] = null
          enemy_offsets_map_vertical[enemy_offset_top + 1][i] = null
          enemy_move_ids[i] = setInterval(
            enemy_move,
            10,
            i
          )
          i++
        } else {
          if (enemies_count == 0) {
            let wave_cleanup_width = 0

            clearInterval(enemies_initialize_id)
            player_element.removeAttribute("recoil_heavy")
            player_element.removeAttribute("recoil_light")
            player_weapon_element.removeAttribute("recoil_heavy")
            player_weapon_element.removeAttribute("recoil_light")

            wave_cleanup_id = setInterval(function() {
              if (wave_cleanup_width != 704) {
                wave_cleanup_element.setAttribute(
                  "style",
                  "height: 378px; width: " + wave_cleanup_width + "px;"
                )
                wave_cleanup_width += 8
              } else {
                clearInterval(wave_cleanup_id)
                i = 0
                wave_cleanup_id = 0
                wave_cleanup_element.setAttribute(
                  "style",
                  "display:none; width: 0;"
                )
                clearInterval(player_weapon_use_id)
                has_player_weapon_reload_state = false
                player_weapon_previous_equipped = player_weapon_next_equipped
                player_weapon_next_equipped = randomized_state % player_weapons.length

                if (player_weapon_next_equipped == player_weapon_previous_equipped) {
                  player_weapon_next_equipped = (player_weapon_next_equipped + 1)
                    % player_weapons.length
                }

                wave_initialize()
              }
            }, 10)
          }
        }
      }, 150)
    }

    const title_screen_prompt_element = document.querySelector(".prompt")
    const wave_cleanup_element = document.createElement("div")

    onload = function() {
      on_document_ready(function() {
        bounds_container_element.setAttribute(
          "style",
          "left: " + ((innerWidth >> 1) - 336) + "px; top: "
            + ((innerHeight >> 1) - 189) + "px;"
        )
        player_inputs[133] = 0
        player_inputs[141] = 0
        player_inputs[147] = 0
        player_inputs[150] = 0

        document.querySelector("body").addEventListener(
          "keydown",
          function(event) {
            let player_input = event.key.charCodeAt(0)

            if (
              event.key[0] == "A" &&
              event.key[1] == "r"
            ) {
              event.preventDefault()
              player_input += event.key.charCodeAt(5)
            }

            player_inputs[player_input] = 1
          }
        )

        document.querySelector("body").addEventListener(
          "keyup",
          function(event) {
            let player_input = event.key.charCodeAt(0)

            if (
              event.key[0] == "A" &&
              event.key[1] == "r"
            ) {
              event.preventDefault()
              player_input += event.key.charCodeAt(5)
            }

            player_inputs[player_input] = 0
          }
        )

        const play_initialize_id = setInterval(function() {
          if ((player_inputs[133] + player_inputs[141]
            + player_inputs[147] + player_inputs[150]) != 0) {
            let randomized_state_offset = 0
            let i = 0
            let j

            clearInterval(play_initialize_id)
            clearInterval(title_screen_id)
            title_screen_prompt_element.classList.add("hidden")
            wave_cleanup_element.setAttribute(
              "class",
              "element wave-cleanup"
            )
            bounds_element.append(wave_cleanup_element)
            player_element.setAttribute("class", "element player")
            player_offset_left = 322
            player_offset_top = 175
            player_element.setAttribute(
              "style",
              "left: " + player_offset_left + "px; top: "
                + player_offset_top + "px;"
            )
            bounds_element.append(player_element)
            player_inputs[97] = 0
            player_inputs[100] = 0
            player_inputs[115] = 0
            player_inputs[119] = 0
            player_inputs[133] = 0
            player_inputs[141] = 0
            player_inputs[147] = 0
            player_inputs[150] = 0
            player_move_id = setInterval(player_move, 20)
            player_weapon_element.setAttribute(
              "class",
              "element player-weapon"
            )
            bounds_element.appendChild(player_weapon_element)
            player_weapon_muzzle_flash_element = document.createElement("div")
            player_weapon_muzzle_flash_element.setAttribute(
              "class",
              "element player-weapon-muzzle-flash"
            )
            player_weapon_muzzle_flash_element = bounds_element.appendChild(
              player_weapon_muzzle_flash_element
            )
            player_weapon_next_equipped = Date.now() % player_weapons.length

            while (i != 250) {
              player_weapon_projectile_effect_elements[i] = document.createElement("div")
              player_weapon_projectile_effect_elements[i].setAttribute(
                "class",
                "element player-weapon-projectile-effect"
              )
              player_weapon_projectile_effect_elements[i].setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_projectile_effect_elements[i] = bounds_element.appendChild(
                player_weapon_projectile_effect_elements[i]
              )
              i++
            }

            i = 0

            while (i != 250) {
              player_weapon_projectile_elements[i] = document.createElement("div")
              player_weapon_projectile_elements[i].setAttribute(
                "class",
                "element player-weapon-projectile"
              )
              player_weapon_projectile_elements[i].setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_projectile_elements[i] = bounds_element.appendChild(
                player_weapon_projectile_elements[i]
              )
              i++
            }

            setInterval(function() {
              randomized_state = ((randomized_state << 13)
                | (randomized_state >> 19)) ^ randomized_state_offset

              if (randomized_state < 0) {
                randomized_state >>>= randomized_state_offset & 15
              }

              if (randomized_state_offset <= 2146372536) {
                randomized_state_offset += 1111111
              } else {
                randomized_state_offset = Date.now() & 65535
              }
            }, 10)

            wave_initialize()
          }
        }, 10)

        const title_screen_id = setInterval(function() {
          title_screen_prompt_element.classList.toggle("hidden")
        }, 500)
      })
    }

    onresize = function() {
      bounds_container_element.setAttribute(
        "style",
        "left: " + ((innerWidth >> 1) - 336) + "px; top:"
          + ((innerHeight >> 1) - 189) + "px;"
      )
    }
  </script>
</html>
